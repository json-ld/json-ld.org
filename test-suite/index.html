<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <title>JSON-LD - Test Suite</title>
  <link href="../site.css" rel="stylesheet" type="text/css" />
  <link rel="shortcut icon" href="../favicon.ico" />
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://raw.github.com/wycats/handlebars.js/1.0.0-rc.3/dist/handlebars.js"></script>
  <script id="manifest" tile="application/ld+json" src="manifest.jsonld"></script>
  <script id="manifest-template" type="text/x-handlebars-template">
    <section>
      <h3>{{name}}</h3>
      <p>{{description}}</p>
      <dl class="test-description">
        {{#each sequence}}
        <dt>Test {{number this}}: {{this.name}}</dt>
        <dd>
          {{#if this.purpose}}
          <div>Purpose: {{this.purpose}}</div>
          {{/if}}
          <div>Test input: <a href="{{this.input}}">{{this.input}}</a></div>
          <div>Expected output: <a href="{{this.input}}">{{this.input}}</a></div>
        </dd>
        {{/each}}
      </dl>
    </section>
  </script>
</head>
<body onload="load_manifests();">
  <div id="container">
     <div id="header">
        <span class="col">
           <img class="banner" src="../images/json-ld-logo-1.png" />
           <img class="banner" src="../images/json-ld-logo-2.png" />
           <img class="banner" src="../images/json-ld-logo-3.png" />
           <h1>Test Suite</h1>
        </span>
     </div>

     <div id="content">
        <div class="breadcrumbs"><a href="../">JSON-LD</a> &gt; Test Suite</div>
        <section>
          <h2 id="introduction">Introduction</h2>

          <p>The JSON-LD Test Suite is a set of tests that can
          be used to verify JSON-LD Processor conformance to the set of specifications
          that constitute JSON-LD. The goal of the suite is to provide an easy and
          comprehensive JSON-LD testing solution for developers creating JSON-LD Processors.</p>
        </section>

        <section>
          <h2 id="design">Design</h2>

          <p>Tests are defined into <em>compact</em>, <em>expand</em>, <em>frame</em>, <em>normalize</em>, and <em>rdf</em> sections:
          * <em>compact</em> tests have <em>input</em>, <em>expected</em> and <em>context</em> documents. The <em>expected</em> results
            can be compared using JSON object comparison with the processor output.
          * <em>expand</em> tests have <em>input</em> and <em>expected</em> documents. The <em>expected</em> results
            can be compared using JSON object comparison with the processor output.
          * <em>frame</em> tests have <em>input</em>, <em>frame</em> and <em>expected</em> documents. The <em>expected</em> results
            can be compared using JSON object comparison with the processor output.
          * <em>normalize</em> tests have <em>input</em> and <em>expected</em> documents. The <em>expected</em> results
            can be compared using string comparison with the processor output.
          * <em>rdf</em> tests have <em>input</em> and <em>sparql</em> documents. The results are tested
            by performing the RDF conversion and using this as the default document for an <code>ASK</code> query
            contained within the <em>sparql</em> document using a SPARQL endpoint. The end result is a
            yes/no on whether the expected triples were extracted by the JSON-LD processor.</p>
        </section>

        <section>
          <h2 id="contributing">Contributing</h2>

          <p>If you would like to contribute a new test or a fix to an existing test,
          please follow these steps:</p>

          <ol>
          <li>Notify the JSON-LD mailing list, public-linked-json@w3.org,
          that you will be creating a new test or fix and the purpose of the
          change.</li>
          <li>Clone the git repository: git://github.com/json-ld/json-ld.org.git</li>
          <li>Make your changes and submit them via github, or via a &#8216;git format-patch&#8217;
          to the <a href="mailto:public-linked-json@w3.org">JSON-LD mailing list</a>.</li>
          </ol>

          <p>Optionally, you can ask for direct access to the repository and may make
          changes directly to the JSON-LD Test Suite source code. All updates to the test
          suite go live on Digital Bazaar&#8217;s JSON-LD Test Suite site within seconds of
          committing changes to github via a WebHook call.</p>
        </section>

        <section>
          <h2 id="how_to_add_a_unit_test">How to Add a Unit Test</h2>

          <p>In order to add a unit test, you must follow these steps:</p>

          <ol>
          <li>Pick a new unit test number. For example - 250. To be consistent, please use
          the next available unit test number.</li>
          <li>Create a markup file in the tests/ directory with a .jsonld extension.
          For example: tests/rdf-250.jsonld</li>
          <li>Create a SPARQL query file in the tests/ directory with a .jsonld or .sparql extension.
          For example: tests/rdf-250.sparql</li>
          <li>Add your test to manifest.jsonld.</li>
          </ol>

          <p>The test suite is designed to empower JSON-LD processor maintainers to create
          and add tests as they see fit. This may mean that the test suite may become
          unstable from time to time, but this approach has been taken so that the
          long-term goal of having a comprehensive test suite for JSON-LD can be achieved
          by the JSON-LD community.</p>
        </section>

        <section id="manifests" class="container">
          <h2>Test Manifests</h2>
        </section>
</div></div>
<script type="text/javascript">
function load_manifests() {
  Handlebars.registerHelper('number', function(that) {
    return that['@id'].substring(2);
  });
  var man_tmpl = Handlebars.compile($("#manifest-template").html());
  $.getJSON($("#manifest").attr("src"), null, function(data, status) {
    data.sequence.forEach(function(man) {
      $.getJSON(man, null, function(data, status) {
        $("#manifests").append($(man_tmpl(data)));
      });
    });
  });
}
</script>
</body>
</html>
