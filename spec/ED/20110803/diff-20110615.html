<!DOCTYPE html PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN' 'http://www.w3.org/TR/html4/loose.dtd'>
<html lang="en" dir="ltr">
<head>
<title>JSON-LD 1.0</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<!-- 
  === NOTA BENE ===
  For the three scripts below, if your spec resides on dev.w3 you can check them
  out in the same tree and use relative links so that they'll work offline,
  -->


<style>
.diff { font-weight:bold; color:#0a3; }
</style>
<style type="text/css">
/*****************************************************************
 * ReSpec CSS
 * Robin Berjon (robin at berjon dot com)
 * v0.05 - 2009-07-31
 *****************************************************************/


/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

code {
    color:  #ff4500;
}


/* --- WEB IDL --- */
pre.idl {
    border-top: 1px solid #90b8de;
    border-bottom: 1px solid #90b8de;
    padding:    1em;
    line-height:    120%;
}

pre.idl::before {
    content:    "WebIDL";
    display:    block;
    width:      150px;
    background: #90b8de;
    color:  #fff;
    font-family:    initial;
    padding:    3px;
    font-weight:    bold;
    margin: -1em 0 1em -1em;
}

.idlType {
    color:  #ff4500;
    font-weight:    bold;
    text-decoration:    none;
}

/*.idlModule*/
/*.idlModuleID*/
/*.idlInterface*/
.idlInterfaceID {
    font-weight:    bold;
    color:  #005a9c;
}

.idlSuperclass {
    font-style: italic;
    color:  #005a9c;
}

/*.idlAttribute*/
.idlAttrType, .idlFieldType {
    color:  #005a9c;
}
.idlAttrName, .idlFieldName {
    color:  #ff4500;
}
.idlAttrName a, .idlFieldName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlMethod*/
.idlMethType {
    color:  #005a9c;
}
.idlMethName {
    color:  #ff4500;
}
.idlMethName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlParam*/
.idlParamType {
    color:  #005a9c;
}
.idlParamName {
    font-style: italic;
}

.extAttr {
    color:  #666;
}

/*.idlConst*/
.idlConstType {
    color:  #005a9c;
}
.idlConstName {
    color:  #ff4500;
}
.idlConstName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlException*/
.idlExceptionID {
    font-weight:    bold;
    color:  #c00;
}

.idlTypedefID, .idlTypedefType {
    color:  #005a9c;
}

.idlRaises, .idlRaises a.idlType, .idlRaises a.idlType code, .excName a, .excName a code {
    color:  #c00;
    font-weight:    normal;
}

.excName a {
    font-family:    monospace;
}

.idlRaises a.idlType, .excName a.idlType {
    border-bottom:  1px dotted #c00;
}

.excGetSetTrue, .excGetSetFalse, .prmNullTrue, .prmNullFalse, .prmOptTrue, .prmOptFalse {
    width:  45px;
    text-align: center;
}
.excGetSetTrue, .prmNullTrue, .prmOptTrue { color:  #0c0; }
.excGetSetFalse, .prmNullFalse, .prmOptFalse { color:  #c00; }

.idlImplements a {
    font-weight:    bold;
}

dl.attributes, dl.methods, dl.constants, dl.fields {
    margin-left:    2em;
}

.attributes dt, .methods dt, .constants dt, .fields dt {
    font-weight:    normal;
}

.attributes dt code, .methods dt code, .constants dt code, .fields dt code {
    font-weight:    bold;
    color:  #000;
    font-family:    monospace;
}

.attributes dt code, .fields dt code {
    background:  #ffffd2;
}

.attributes dt .idlAttrType code, .fields dt .idlFieldType code {
    color:  #005a9c;
    background:  transparent;
    font-family:    inherit;
    font-weight:    normal;
    font-style: italic;
}

.methods dt code {
    background:  #d9e6f8;
}

.constants dt code {
    background:  #ddffd2;
}

.attributes dd, .methods dd, .constants dd, .fields dd {
    margin-bottom:  1em;
}

table.parameters, table.exceptions {
    border-spacing: 0;
    border-collapse:    collapse;
    margin: 0.5em 0;
    width:  100%;
}
table.parameters { border-bottom:  1px solid #90b8de; }
table.exceptions { border-bottom:  1px solid #deb890; }

.parameters th, .exceptions th {
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
    font-family:    initial;
    font-weight:    normal;
    text-shadow:    #666 1px 1px 0;
}
.parameters th { background: #90b8de; }
.exceptions th { background: #deb890; }

.parameters td, .exceptions td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    vertical-align: top;
}

.parameters tr:first-child td, .exceptions tr:first-child td {
    border-top: none;
}

.parameters td.prmName, .exceptions td.excName, .exceptions td.excCodeName {
    width:  100px;
}

.parameters td.prmType {
    width:  120px;
}

table.exceptions table {
    border-spacing: 0;
    border-collapse:    collapse;
    width:  100%;
}

/* --- TOC --- */
.toc a {
    text-decoration:    none;
}

a .secno {
    color:  #000;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

/* --- EXAMPLES --- */
pre.example {
    border-top: 1px solid #ff4500;
    border-bottom: 1px solid #ff4500;
    padding:    1em;
    margin-top: 1em;
}

pre.example::before {
    content:    "Example";
    display:    block;
    width:      150px;
    background: #ff4500;
    color:  #fff;
    font-family:    initial;
    padding:    3px;
    font-weight:    bold;
    margin: -1em 0 1em -1em;
}

/* --- EDITORIAL NOTES --- */
.issue {
    padding:    1em;
    margin: 1em 0em 0em;
    border: 1px solid #f00;
    background: #ffc;
}

.issue::before {
    content:    "Issue";
    display:    block;
    width:  150px;
    margin: -1.5em 0 0.5em 0;
    font-weight:    bold;
    border: 1px solid #f00;
    background: #fff;
    padding:    3px 1em;
}

.note {
    margin: 1em 0em 0em;
    padding:    1em;
    border: 2px solid #cff6d9;
    background: #e2fff0;
}

.note::before {
    content:    "Note";
    display:    block;
    width:  150px;
    margin: -1.5em 0 0.5em 0;
    font-weight:    bold;
    border: 1px solid #cff6d9;
    background: #fff;
    padding:    3px 1em;
}

/* --- Best Practices --- */
div.practice {
    border: solid #bebebe 1px;
    margin: 2em 1em 1em 2em;
}

span.practicelab {
    margin: 1.5em 0.5em 1em 1em;
    font-weight: bold;
    font-style: italic;
}

span.practicelab   { background: #dfffff; }

span.practicelab {
    position: relative;
    padding: 0 0.5em;
    top: -1.5em;
}

p.practicedesc {
    margin: 1.5em 0.5em 1em 1em;
}

@media screen {
    p.practicedesc {
        position: relative;
        top: -2em;
        padding: 0;
        margin: 1.5em 0.5em -1em 1em;
}

/* --- SYNTAX HIGHLIGHTING --- */
pre.sh_sourceCode {
  background-color: white;
  color: black;
  font-style: normal;
  font-weight: normal;
}

pre.sh_sourceCode .sh_keyword { color: #005a9c; font-weight: bold; }           /* language keywords */
pre.sh_sourceCode .sh_type { color: #666; }                            /* basic types */
pre.sh_sourceCode .sh_usertype { color: teal; }                             /* user defined types */
pre.sh_sourceCode .sh_string { color: red; font-family: monospace; }        /* strings and chars */
pre.sh_sourceCode .sh_regexp { color: orange; font-family: monospace; }     /* regular expressions */
pre.sh_sourceCode .sh_specialchar { color: 	#ffc0cb; font-family: monospace; }  /* e.g., \n, \t, \\ */
pre.sh_sourceCode .sh_comment { color: #A52A2A; font-style: italic; }         /* comments */
pre.sh_sourceCode .sh_number { color: purple; }                             /* literal numbers */
pre.sh_sourceCode .sh_preproc { color: #00008B; font-weight: bold; }       /* e.g., #include, import */
pre.sh_sourceCode .sh_symbol { color: blue; }                            /* e.g., *, + */
pre.sh_sourceCode .sh_function { color: black; font-weight: bold; }         /* function calls and declarations */
pre.sh_sourceCode .sh_cbracket { color: red; }                              /* block brackets (e.g., {, }) */
pre.sh_sourceCode .sh_todo { font-weight: bold; background-color: #00FFFF; }   /* TODO and FIXME */

/* Predefined variables and functions (for instance glsl) */
pre.sh_sourceCode .sh_predef_var { color: #00008B; }
pre.sh_sourceCode .sh_predef_func { color: #00008B; font-weight: bold; }

/* for OOP */
pre.sh_sourceCode .sh_classname { color: teal; }

/* line numbers (not yet implemented) */
pre.sh_sourceCode .sh_linenum { display: none; }

/* Internet related */
pre.sh_sourceCode .sh_url { color: blue; text-decoration: underline; font-family: monospace; }

/* for ChangeLog and Log files */
pre.sh_sourceCode .sh_date { color: blue; font-weight: bold; }
pre.sh_sourceCode .sh_time, pre.sh_sourceCode .sh_file { color: #00008B; font-weight: bold; }
pre.sh_sourceCode .sh_ip, pre.sh_sourceCode .sh_name { color: #006400; }

/* for Prolog, Perl... */
pre.sh_sourceCode .sh_variable { color: #006400; }

/* for LaTeX */
pre.sh_sourceCode .sh_italics { color: #006400; font-style: italic; }
pre.sh_sourceCode .sh_bold { color: #006400; font-weight: bold; }
pre.sh_sourceCode .sh_underline { color: #006400; text-decoration: underline; }
pre.sh_sourceCode .sh_fixed { color: green; font-family: monospace; }
pre.sh_sourceCode .sh_argument { color: #006400; }
pre.sh_sourceCode .sh_optionalargument { color: purple; }
pre.sh_sourceCode .sh_math { color: orange; }
pre.sh_sourceCode .sh_bibtex { color: blue; }

/* for diffs */
pre.sh_sourceCode .sh_oldfile { color: orange; }
pre.sh_sourceCode .sh_newfile { color: #006400; }
pre.sh_sourceCode .sh_difflines { color: blue; }

/* for css */
pre.sh_sourceCode .sh_selector { color: purple; }
pre.sh_sourceCode .sh_property { color: blue; }
pre.sh_sourceCode .sh_value { color: #006400; font-style: italic; }

/* other */
pre.sh_sourceCode .sh_section { color: black; font-weight: bold; }
pre.sh_sourceCode .sh_paren { color: red; }
pre.sh_sourceCode .sh_attribute { color: #006400; }

</style><link href="http://www.w3.org/StyleSheets/TR/w3c-unofficial" rel="stylesheet" type="text/css" charset="utf-8"><style type='text/css'>
.diff-old-a {
  font-size: smaller;
  color: red;
}

.diff-new { background-color: yellow; }
.diff-chg { background-color: lime; }
.diff-new:before,
.diff-new:after
    { content: "\2191" }
.diff-chg:before, .diff-chg:after
    { content: "\2195" }
.diff-old { text-decoration: line-through; background-color: #FBB; }
.diff-old:before,
.diff-old:after
    { content: "\2193" }
:focus { border: thin red solid}
</style>
</head>


<body style="display: inherit; ">
<div class="head">
<p>
</p>
<h1 class="title" id="title">
JSON-LD
<del class="diff-old">-
Linked
Data
Expression
in
JSON
</del>
<ins class="diff-chg">1.0
</ins>
</h1>
<h2 id="subtitle">
A
Context-based
JSON
Serialization
for
<del class="diff-old">Linked
</del>
<ins class="diff-chg">Linking
</ins>
Data
</h2>
<h2 id="unofficial-draft-03-august-2011">
Unofficial
Draft
<del class="diff-old">15
June
</del>
<ins class="diff-chg">03
August
</ins>
2011
</h2>
<dl>
<dt>
Editors:
</dt>
<dd>
<a href="http://digitalbazaar.com/">
Manu
Sporny
</a>,
<a href="http://digitalbazaar.com/">
Digital
Bazaar,
Inc.
</a>
</dd>
<dd>
<a href="http://greggkellogg.net/">
Gregg
Kellogg
</a>,
Kellogg
Associates
</dd>
<dt>
Authors:
</dt>
<dd>
<a href="http://webbackplane.com/">
Mark
Birbeck
</a>,
<a href="http://webbackplane.com/">
Backplane
Ltd.
</a>
</dd>
<dd>
<a href="http://digitalbazaar.com/">
Manu
Sporny
</a>,
<a href="http://digitalbazaar.com/">
Digital
Bazaar,
Inc.
</a>
</dd>
</dl>
<del class="diff-old">This
document
is
also
available
in
this
non-normative
format:
diff
to
previous
version
.
</del>
<p class="copyright">
This
document
is
licensed
under
a
<a class="subfoot" href="http://creativecommons.org/licenses/by/3.0/" rel="license">
Creative
Commons
Attribution
3.0
License
</a>.
</p>
<hr>
</div>
<div id="abstract" class="introductory section">
<h2>
Abstract
</h2>
<p>
<del class="diff-old">Developers
that
embed
structured
data
in
their
Web
pages
can
choose
among
a
number
of
languages
such
as
RDFa
[
RDFA-CORE
],
Microformats
</del>
<ins class="diff-chg">JSON
</ins>
[
<cite>
<del class="diff-old">MICROFORMATS
</del>
<a class="bibref" rel="biblioentry" href="#bib-RFC4627">
<ins class="diff-chg">RFC4627
</ins>
</a>
</cite>
]
<del class="diff-old">and
Microdata
[
MICRODATA
].
Each
of
these
structured
data
languages,
while
incompatible
at
the
syntax
level,
can
be
easily
mapped
to
RDF.
JSON
</del>
has
proven
to
be
a
highly
useful
object
serialization
and
messaging
format.
In
an
attempt
to
harmonize
the
representation
of
Linked
Data
in
JSON,
this
specification
outlines
a
common
JSON
representation
format
for
<ins class="diff-new">expressing
directed
graphs;
mixing
both
</ins>
Linked
Data
<del class="diff-old">that
can
be
used
to
represent
objects
specified
via
RDFa,
Microformats
</del>
and
<del class="diff-old">Microdata.
</del>
<ins class="diff-chg">non-Linked
Data
in
a
single
document.
</ins>
</p>
</div>
<div id="sotd" class="introductory section">
<h2>
Status
of
This
Document
</h2>
<p>
This
document
is
merely
a
public
working
draft
of
a
potential
specification.
It
has
no
official
standing
of
any
kind
and
does
not
represent
the
support
or
consensus
of
any
standards
organisation.
</p>
<p>
This
document
is
an
experimental
work
in
progress.
</p>
</div>
<div id="toc" class="section">
<h2 class="introductory">
Table
of
Contents
</h2>
<ul class="toc">
<li class="tocline">
<a href="#introduction" class="tocxref">
<span class="secno">
1.
</span>
Introduction
</a>
<ul class="toc">
<li class="tocline">
<a href="#how-to-read-this-document" class="tocxref">
<span class="secno">
1.1
</span>
How
to
Read
this
Document
</a>
</li>
<li class="tocline">
<a href="#contributing" class="tocxref">
<span class="secno">
1.2
</span>
Contributing
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="#design" class="tocxref">
<span class="secno">
2.
</span>
Design
<del class="diff-old">Goals
and
Rationale
</del>
</a>
<ul class="toc">
<li class="tocline">
<a href="#goals-and-rationale" class="tocxref">
<span class="secno">
2.1
</span>
Goals
<ins class="diff-new">and
Rationale
</ins>
</a>
</li>
<li class="tocline">
<a href="#linked-data" class="tocxref">
<span class="secno">
2.2
</span>
<del class="diff-old">Map
Terms
to
IRIs
</del>
<ins class="diff-chg">Linked
Data
</ins>
</a>
</li>
<li class="tocline">
<a href="#linking-data" class="tocxref">
<span class="secno">
2.3
</span>
<del class="diff-old">The
JSON-LD
Context
</del>
<ins class="diff-chg">Linking
Data
</ins>
</a>
</li>
<li class="tocline">
<a href="#the-context" class="tocxref">
<span class="secno">
2.4
</span>
<del class="diff-old">Unambiguous
Identifiers
for
JSON
2.5
Mashing
Up
Vocabularies
</del>
<ins class="diff-chg">The
Context
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="#inside-a-context" class="tocxref">
<span class="secno">
<del class="diff-old">2.6
</del>
<ins class="diff-chg">2.4.1
</ins>
</span>
<del class="diff-old">An
Example
of
</del>
<ins class="diff-chg">Inside
</ins>
a
Context
</a>
</li>
</ul>
</li>
<li class="tocline">
<del class="diff-old">3.
Markup
Examples
3.1
RDFa
3.2
Microformats
</del>
<a href="#from-json-to-json-ld" class="tocxref">
<span class="secno">
<del class="diff-old">3.3
</del>
<ins class="diff-chg">2.5
</ins>
</span>
<del class="diff-old">Microdata
</del>
<ins class="diff-chg">From
JSON
to
JSON-LD
</ins>
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="#basic-concepts" class="tocxref">
<span class="secno">
<del class="diff-old">4.
</del>
<ins class="diff-chg">3.
</ins>
</span>
<del class="diff-old">Markup
of
RDF
</del>
<ins class="diff-chg">Basic
</ins>
Concepts
</a>
<ul class="toc">
<li class="tocline">
<a href="#iris" class="tocxref">
<span class="secno">
<del class="diff-old">4.1
</del>
<ins class="diff-chg">3.1
</ins>
</span>
IRIs
</a>
</li>
<li class="tocline">
<a href="#identifying-the-subject" class="tocxref">
<span class="secno">
<del class="diff-old">4.2
</del>
<ins class="diff-chg">3.2
</ins>
</span>
Identifying
the
Subject
</a>
</li>
<li class="tocline">
<a href="#specifying-the-type" class="tocxref">
<span class="secno">
<del class="diff-old">4.3
</del>
<ins class="diff-chg">3.3
</ins>
</span>
Specifying
the
Type
</a>
</li>
<li class="tocline">
<a href="#strings" class="tocxref">
<span class="secno">
<del class="diff-old">4.4
</del>
<ins class="diff-chg">3.4
</ins>
</span>
<del class="diff-old">Plain
Literals
</del>
<ins class="diff-chg">Strings
</ins>
</a>
</li>
<li class="tocline">
<a href="#string-internationalization" class="tocxref">
<span class="secno">
<del class="diff-old">4.5
</del>
<ins class="diff-chg">3.5
</ins>
</span>
<del class="diff-old">Language
Specification
in
Plain
Literals
</del>
<ins class="diff-chg">String
Internationalization
</ins>
</a>
</li>
<li class="tocline">
<a href="#datatypes" class="tocxref">
<span class="secno">
<del class="diff-old">4.6
</del>
<ins class="diff-chg">3.6
</ins>
</span>
<del class="diff-old">Typed
Literals
</del>
<ins class="diff-chg">Datatypes
</ins>
</a>
</li>
<li class="tocline">
<a href="#multiple-objects-for-a-single-property" class="tocxref">
<span class="secno">
<del class="diff-old">4.7
</del>
<ins class="diff-chg">3.7
</ins>
</span>
Multiple
Objects
for
a
Single
Property
</a>
</li>
<li class="tocline">
<a href="#multiple-typed-literals-for-a-single-property" class="tocxref">
<span class="secno">
<del class="diff-old">4.8
</del>
<ins class="diff-chg">3.8
</ins>
</span>
Multiple
Typed
Literals
for
a
Single
Property
</a>
</li>
<li class="tocline">
<a href="#compaction" class="tocxref">
<span class="secno">
<del class="diff-old">4.9
</del>
<ins class="diff-chg">3.9
</ins>
</span>
<del class="diff-old">Blank
Nodes
</del>
<ins class="diff-chg">Compaction
</ins></a></li><li class="tocline"><a href="#expansion" class="tocxref"><span class="secno"><ins class="diff-chg">
3.10
</ins></span><ins class="diff-chg">
Expansion
</ins></a></li><li class="tocline"><a href="#framing" class="tocxref"><span class="secno"><ins class="diff-chg">
3.11
</ins></span><ins class="diff-chg">
Framing
</ins>
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="#advanced-concepts" class="tocxref">
<span class="secno">
<del class="diff-old">5.
</del>
<ins class="diff-chg">4.
</ins>
</span>
Advanced
<del class="diff-old">Features
</del>
<ins class="diff-chg">Concepts
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="#automatic-typing" class="tocxref">
<span class="secno">
<del class="diff-old">5.1
</del>
<ins class="diff-chg">4.1
</ins>
</span>
Automatic
Typing
</a>
</li>
<li class="tocline">
<a href="#type-coercion" class="tocxref">
<span class="secno">
<del class="diff-old">5.2
</del>
<ins class="diff-chg">4.2
</ins>
</span>
Type
Coercion
</a>
</li>
<li class="tocline">
<a href="#chaining" class="tocxref">
<span class="secno">
<del class="diff-old">6.
</del>
<ins class="diff-chg">4.3
</ins>
</span>
<del class="diff-old">The
JSON-LD
Processing
Algorithm
</del>
<ins class="diff-chg">Chaining
</ins>
</a>
</li>
<li class="tocline">
<a href="#identifying-unlabeled-nodes" class="tocxref">
<span class="secno">
<del class="diff-old">6.1
</del>
<ins class="diff-chg">4.4
</ins>
</span>
<del class="diff-old">Overview
</del>
<ins class="diff-chg">Identifying
Unlabeled
Nodes
</ins>
</a>
</li>
<li class="tocline">
<a href="#overriding-keywords" class="tocxref">
<span class="secno">
<del class="diff-old">6.2
</del>
<ins class="diff-chg">4.5
</ins>
</span>
<del class="diff-old">Processing
Algorithm
Terms
</del>
<ins class="diff-chg">Overriding
Keywords
</ins>
</a>
</li>
<li class="tocline">
<a href="#normalization" class="tocxref">
<span class="secno">
<del class="diff-old">6.3
</del>
<ins class="diff-chg">4.6
</ins>
</span>
<del class="diff-old">Processing
Tokens
and
Keywords
</del>
<ins class="diff-chg">Normalization
</ins>
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="#algorithms" class="tocxref">
<span class="secno">
<del class="diff-old">6.4
</del>
<ins class="diff-chg">5.
</ins>
</span>
<del class="diff-old">Context
</del>
<ins class="diff-chg">Algorithms
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="#compaction-1" class="tocxref">
<span class="secno">
<del class="diff-old">6.4.1
</del>
<ins class="diff-chg">5.1
</ins>
</span>
<del class="diff-old">Coerce
</del>
<ins class="diff-chg">Compaction
</ins>
</a>
</li>
<li class="tocline">
<a href="#expansion-1" class="tocxref">
<span class="secno">
<ins class="diff-chg">5.2
</ins></span><ins class="diff-chg">
Expansion
</ins></a>
</li>
<li class="tocline">
<a href="#framing-1" class="tocxref">
<span class="secno">
<del class="diff-old">6.5
</del>
<ins class="diff-chg">5.3
</ins>
</span>
<del class="diff-old">Chaining
</del>
<ins class="diff-chg">Framing
</ins>
</a>
</li>
<li class="tocline">
<a href="#normalization-1" class="tocxref">
<span class="secno">
<del class="diff-old">6.6
</del>
<ins class="diff-chg">5.4
</ins>
</span>
<del class="diff-old">IRI
Processing
</del>
<ins class="diff-chg">Normalization
</ins>
</a>
</li>
<li class="tocline">
<a href="#rdf-conversion" class="tocxref">
<span class="secno">
<ins class="diff-chg">5.5
</ins></span><ins class="diff-chg">
RDF
Conversion
</ins></a><ul class="toc">
<li class="tocline">
<a href="#overview" class="tocxref">
<span class="secno">
<del class="diff-old">7.
</del>
<ins class="diff-chg">5.5.1
</ins>
</span>
<del class="diff-old">Sequence
</del>
<ins class="diff-chg">Overview
</ins>
</a>
</li>
<li class="tocline">
<a href="#processing-algorithm-terms" class="tocxref">
<span class="secno">
<del class="diff-old">8.
</del>
<ins class="diff-chg">5.5.2
</ins>
</span>
<del class="diff-old">Best
Practices
</del>
<ins class="diff-chg">Processing
Algorithm
Terms
</ins>
</a>
</li>
<li class="tocline">
<a href="#processing-tokens-and-keywords" class="tocxref">
<span class="secno">
<del class="diff-old">8.1
</del>
<ins class="diff-chg">5.5.3
</ins>
</span>
<del class="diff-old">JavaScript
</del>
<ins class="diff-chg">Processing
Tokens
and
Keywords
</ins>
</a>
</li>
<li class="tocline">
<a href="#context-1" class="tocxref">
<span class="secno">
<del class="diff-old">8.2
</del>
<ins class="diff-chg">5.5.4
</ins>
</span>
<del class="diff-old">Schema-less
Databases
</del>
<ins class="diff-chg">Context
</ins>
</a>
</li>
<li class="tocline">
<a href="#iri-processing" class="tocxref">
<span class="secno">
<ins class="diff-chg">5.5.5
</ins></span><ins class="diff-chg">
IRI
Processing
</ins></a>
</li>
<li class="tocline">
<a href="#sequence" class="tocxref">
<span class="secno">
<del class="diff-old">9.
</del>
<ins class="diff-chg">5.5.6
</ins>
</span>
<del class="diff-old">Advanced
Concepts
</del>
<ins class="diff-chg">Sequence
</ins>
</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="tocline">
<a href="#experimental-concepts" class="tocxref">
<span class="secno">
<del class="diff-old">9.1
</del>
<ins class="diff-chg">6.
</ins>
</span>
<del class="diff-old">Vocabulary
Profiles
</del>
<ins class="diff-chg">Experimental
Concepts
</ins>
</a>
<ul class="toc">
<li class="tocline">
<a href="#disjoint-graphs" class="tocxref">
<span class="secno">
<del class="diff-old">9.2
</del>
<ins class="diff-chg">6.1
</ins>
</span>
Disjoint
Graphs
</a>
</li>
<li class="tocline">
<a href="#the-json-ld-api" class="tocxref">
<span class="secno">
<del class="diff-old">9.3
</del>
<ins class="diff-chg">6.2
</ins>
</span>
The
JSON-LD
API
</a>
<ul class="toc">
<li class="tocline">
<a href="#methods" class="tocxref">
<span class="secno">
<del class="diff-old">9.3.1
</del>
<ins class="diff-chg">6.2.1
</ins>
</span>
Methods
</a>
</li>
<li class="tocline">
<a href="#methods-1" class="tocxref">
<span class="secno">
<del class="diff-old">9.3.2
</del>
<ins class="diff-chg">6.2.2
</ins>
</span>
Methods
</a>
</li>
<li class="tocline">
<a href="#methods-2" class="tocxref">
<span class="secno">
<del class="diff-old">9.3.3
</del>
<ins class="diff-chg">6.2.3
</ins>
</span>
Methods
</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="tocline">
<a href="#markup-examples" class="tocxref">
<span class="secno">
A.
</span>
<del class="diff-old">The
Default
Context
</del>
<ins class="diff-chg">Markup
Examples
</ins></a><ul class="toc"><li class="tocline"><a href="#rdfa" class="tocxref"><span class="secno"><ins class="diff-chg">
A.1
</ins></span><ins class="diff-chg">
RDFa
</ins></a></li><li class="tocline"><a href="#microformats" class="tocxref"><span class="secno"><ins class="diff-chg">
A.2
</ins></span><ins class="diff-chg">
Microformats
</ins></a></li><li class="tocline"><a href="#microdata" class="tocxref"><span class="secno"><ins class="diff-chg">
A.3
</ins></span><ins class="diff-chg">
Microdata
</ins></a></li><li class="tocline"><a href="#mashing-up-vocabularies" class="tocxref"><span class="secno"><ins class="diff-chg">
A.4
</ins></span><ins class="diff-chg">
Mashing
Up
Vocabularies
</ins>
</a>
</li>
<li class="tocline">
<a href="#acknowledgements" class="tocxref">
<span class="secno">
<del class="diff-old">B.
</del>
<ins class="diff-chg">A.5
</ins>
</span>
Acknowledgements
</a>
</li>
</ul>
</li>
<li class="tocline">
<a href="#references" class="tocxref">
<span class="secno">
<del class="diff-old">C.
</del>
<ins class="diff-chg">B.
</ins>
</span>
References
</a>
<ul class="toc">
<li class="tocline">
<a href="#normative-references" class="tocxref">
<span class="secno">
<del class="diff-old">C.1
</del>
<ins class="diff-chg">B.1
</ins>
</span>
Normative
references
</a>
</li>
<li class="tocline">
<a href="#informative-references" class="tocxref">
<span class="secno">
<del class="diff-old">C.2
</del>
<ins class="diff-chg">B.2
</ins>
</span>
Informative
references
</a>
</li>
</ul>
</li>
</ul>
</div>
<div id="introduction" class="section">
<h2>
<span class="secno">
1.
</span>
Introduction
</h2>
<p>
<ins class="diff-new">JSON,
as
specified
in
[
</ins><cite><a class="bibref" rel="biblioentry" href="#bib-RFC4627"><ins class="diff-new">
RFC4627
</ins></a></cite><ins class="diff-new">
],
is
a
simple
language
for
representing
data
on
the
Web.
Linked
Data
is
a
technique
for
describing
content
across
different
documents
or
Web
sites.
Web
resources
are
described
using
</ins><a class="tref internalDFN" title="IRI" href="#dfn-iri"><ins class="diff-new">
IRI
</ins></a><ins class="diff-new">
s,
and
typically
are
dereferencable
entities
that
may
be
used
to
find
more
information,
creating
a
"Web
of
Knowledge".
JSON-LD
is
intended
to
be
a
simple
publishing
method
for
expressing
not
only
Linked
Data
in
JSON,
but
for
adding
semantics
to
existing
JSON.
</ins></p><p>
JSON-LD
is
designed
as
a
light-weight
syntax
that
can
be
used
to
express
Linked
Data.
It
is
primarily
intended
to
be
a
way
to
express
Linked
Data
in
Javascript
and
other
Web-based
programming
environments.
It
is
also
useful
when
building
interoperable
Web
Services
and
when
storing
Linked
Data
in
JSON-based
document
storage
engines.
It
is
practical
and
designed
to
be
as
simple
as
possible,
utilizing
the
large
number
of
JSON
parsers
and
existing
code
that
is
in
use
today.
It
is
designed
to
be
able
to
express
key-value
pairs,
RDF
data,
<ins class="diff-new">RDFa
[
</ins><cite><a class="bibref" rel="biblioentry" href="#bib-RDFA-CORE"><ins class="diff-new">
RDFA-CORE
</ins></a></cite><ins class="diff-new">
]
data,
</ins>
Microformats
<ins class="diff-new">[
</ins><cite><a class="bibref" rel="biblioentry" href="#bib-MICROFORMATS"><ins class="diff-new">
MICROFORMATS
</ins></a></cite><ins class="diff-new">
]
</ins>
data,
and
<del class="diff-old">Microdata.
</del>
<ins class="diff-chg">Microdata
[
</ins><cite><a class="bibref" rel="biblioentry" href="#bib-MICRODATA"><ins class="diff-chg">
MICRODATA
</ins></a></cite><ins class="diff-chg">
].
</ins>
That
is,
it
supports
every
major
Web-based
structured
data
model
in
use
today.
<del class="diff-old">It
</del>
</p>
<p>
<ins class="diff-chg">The
syntax
</ins>
does
not
require
<del class="diff-old">anyone
</del>
<ins class="diff-chg">many
applications
</ins>
to
change
their
JSON,
but
easily
add
meaning
by
adding
context
in
a
way
that
is
<ins class="diff-new">either
in-band
or
</ins>
out-of-band.
The
syntax
is
designed
to
not
disturb
already
deployed
systems
running
on
JSON,
but
provide
a
smooth
migration
path
from
JSON
to
JSON
with
added
semantics.
Finally,
the
format
is
intended
to
be
fast
to
parse,
fast
to
generate,
stream-based
and
document-based
processing
compatible,
and
require
a
very
small
memory
footprint
in
order
to
operate.
</p>
<del class="diff-old">JSON,
as
specified
in
[
RFC4627
],
is
a
simple
language
for
representing
objects
on
the
web.
Linked
Data
is
a
way
of
describing
content
across
different
documents,
or
web
resources.
Web
resources
are
described
using
IRI
s,
and
typically
are
dereferencable
entities
that
may
be
used
to
find
more
information,
creating
a
"web
of
knowledge".
JSON-LD
is
intended
to
be
a
simple
publishing
method
for
expressing
linked
data
in
JSON.
</del>
<div id="how-to-read-this-document" class="section">
<h3>
<span class="secno">
1.1
</span>
How
to
Read
this
Document
</h3>
<p>
This
document
is
a
detailed
specification
for
a
serialization
of
JSON
for
Linked
data.
The
document
is
primarily
intended
for
the
following
audiences:
</p>
<ul>
<li>
Web
developers
that
want
to
understand
the
design
decisions
and
language
syntax
for
JSON-LD.
</li>
<li>
Software
developers
that
want
to
encode
Microformats,
RDFa,
or
Microdata
in
a
way
that
is
cross-language
compatible
via
JSON.
</li>
<li>
Software
developers
that
want
to
<del class="diff-old">write
</del>
<ins class="diff-chg">implement
</ins>
processors
<ins class="diff-new">and
APIs
</ins>
for
JSON-LD.
</li>
</ul>
<p>
To
understand
<ins class="diff-new">the
basics
in
</ins>
this
specification
you
must
first
be
familiar
with
JSON,
which
is
detailed
in
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-RFC4627">
RFC4627
</a>
</cite>
<ins class="diff-new">].
To
understand
the
API
and
how
it
is
intended
to
operate
in
a
programming
environment,
it
is
useful
to
have
working
knowledge
of
the
JavaScript
programming
language
[
</ins><cite><a class="bibref" rel="biblioentry" href="#bib-ECMA-262"><ins class="diff-new">
ECMA-262
</ins></a></cite>
]
and
<ins class="diff-new">WebIDL
[
</ins><cite><a class="bibref" rel="biblioentry" href="#bib-WEBIDL"><ins class="diff-new">
WEBIDL
</ins></a></cite><ins class="diff-new">
].
To
understand
how
JSON-LD
maps
to
RDF,
it
is
helpful
to
be
familiar
with
the
basic
</ins>
RDF
<del class="diff-old">as
described
in
</del>
<ins class="diff-chg">concepts
</ins>
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-RDF-CONCEPTS">
RDF-CONCEPTS
</a>
</cite>
].
</p>
</div>
<div id="contributing" class="section">
<h3>
<span class="secno">
1.2
</span>
Contributing
</h3>
<p>
There
are
a
number
of
ways
that
one
may
participate
in
the
development
of
this
specification:
</p>
<ul>
<li>
<del class="diff-old">All
comments
and
</del>
<ins class="diff-chg">Technical
</ins>
discussion
<del class="diff-old">takes
place
</del>
<ins class="diff-chg">typically
occurs
</ins>
on
the
public
mailing
list:
<a href="http://lists.w3.org/Archives/Public/public-linked-json/">
public-linked-json@w3.org
</a>
</li>
<li>
<a href="http://json-ld.org/minutes/">
<ins class="diff-new">Public
teleconferences
</ins></a><ins class="diff-new">
are
held
on
Tuesdays
at
1500UTC
on
the
second
and
fourth
week
of
each
month.
</ins></li><li>
Specification
bugs
and
issues
should
be
reported
in
the
<a href="https://github.com/json-ld/json-ld.org/issues">
issue
tracker
</a>.
</li>
<li>
<a href="https://github.com/json-ld/json-ld.org/tree/master/spec">
Source
code
</a>
for
the
specification
can
be
found
on
Github.
</li>
<li>
The
<a href="http://webchat.freenode.net/?channels=#json-ld">
#json-ld
</a>
IRC
channel
is
available
for
real-time
discussion
on
irc.freenode.net.
</li>
</ul>
</div>
</div>
<div id="design" class="section">
<h2>
<span class="secno">
2.
</span>
Design
<del class="diff-old">Goals
and
Rationale
</del>
</h2>
<p>
The
following
section
outlines
the
design
goals
and
rationale
behind
the
JSON-LD
markup
language.
</p>
<div id="goals-and-rationale" class="section">
<h3>
<span class="secno">
2.1
</span>
Goals
<ins class="diff-new">and
Rationale
</ins>
</h3>
<p>
A
number
of
design
considerations
were
explored
during
the
creation
of
this
markup
language:
</p>
<dl>
<dt>
Simplicity
</dt>
<dd>
Developers
<del class="diff-old">don't
</del>
need
<del class="diff-old">to
</del>
<ins class="diff-chg">only
</ins>
know
<del class="diff-old">RDF
in
order
</del>
<ins class="diff-chg">JSON
and
three
keywords
</ins>
to
use
the
basic
functionality
<del class="diff-old">provided
by
</del>
<ins class="diff-chg">in
</ins>
JSON-LD.
<ins class="diff-new">No
extra
processors
or
software
libraries
are
necessary
to
use
JSON-LD
in
its
most
basic
form.
The
language
attempts
to
ensure
that
developers
have
an
easy
learning
curve.
</ins>
</dd>
<dt>
Compatibility
</dt>
<dd>
The
JSON-LD
markup
<del class="diff-old">should
</del>
<ins class="diff-chg">must
</ins>
be
100%
compatible
with
JSON.
<ins class="diff-new">This
ensures
that
all
of
the
standard
JSON
libraries
work
seamlessly
with
JSON-LD
documents.
</ins>
</dd>
<dt>
Expressiveness
</dt>
<dd>
<del class="diff-old">All
major
RDF
concepts
</del>
<ins class="diff-chg">The
syntax
</ins>
must
be
<del class="diff-old">expressible
via
the
JSON-LD
syntax.
</del>
<ins class="diff-chg">able
to
express
directed
graphs,
which
have
been
proven
to
be
able
to
simply
express
almost
every
real
world
data
model.
</ins>
</dd>
<dt>
Terseness
</dt>
<dd>
The
JSON-LD
syntax
must
be
very
terse
and
human
<del class="diff-old">readable.
</del>
<ins class="diff-chg">readable,
requiring
as
little
as
possible
from
the
developer.
</ins></dd><dt><ins class="diff-chg">
Pragmatism
</ins></dt><dd><ins class="diff-chg">
Mixing
the
expression
of
pure
Linked
Data
with
data
that
is
not
linked
was
an
approach
that
was
driven
by
pragmatism.
JSON-LD
attempts
to
be
more
practical
than
theoretical
in
its
approach
to
Linked
Data.
</ins>
</dd>
<dt>
Zero
Edits,
most
of
the
time
</dt>
<dd>
JSON-LD
provides
a
mechanism
that
allows
developers
to
specify
context
in
a
way
that
is
out-of-band.
This
allows
organizations
that
have
already
deployed
large
JSON-based
infrastructure
to
add
meaning
to
their
JSON
in
a
way
that
is
not
disruptive
to
their
day-to-day
operations
and
is
transparent
to
their
current
customers.
At
times,
mapping
JSON
to
<del class="diff-old">RDF
</del>
<ins class="diff-chg">a
graph
representation
</ins>
can
become
<del class="diff-old">difficult
-
in
</del>
<ins class="diff-chg">difficult.
In
</ins>
these
instances,
rather
than
having
JSON-LD
support
esoteric
markup,
we
chose
not
to
support
the
use
case
and
support
a
simplified
syntax
instead.
So,
while
<del class="diff-old">we
strive
for
</del>
Zero
<del class="diff-old">Edits,
</del>
<ins class="diff-chg">Edits
was
a
goal,
</ins>
it
was
not
always
possible
without
adding
great
complexity
to
the
language.
</dd>
<dt>
Streaming
</dt>
<dd>
The
format
supports
both
document-based
and
stream-based
processing.
</dd>
</dl>
</div>
<div id="linked-data" class="section">
<h3>
<span class="secno">
2.2
</span>
<del class="diff-old">Map
Terms
</del>
<ins class="diff-chg">Linked
Data
</ins></h3><p><ins class="diff-chg">
The
following
definition
for
</ins><a class="tref internalDFN" title="Linked_Data" href="#dfn-linked_data"><ins class="diff-chg">
Linked
Data
</ins></a><ins class="diff-chg">
is
the
one
that
will
be
used
for
this
specification.
</ins></p><ol><li><dfn title="Linked_Data" id="dfn-linked_data"><ins class="diff-chg">
Linked
Data
</ins></dfn><ins class="diff-chg">
is
a
set
of
documents,
each
containing
a
representation
of
a
linked
data
graph.
</ins></li><li><ins class="diff-chg">
A
</ins><dfn title="linked_data_graph" id="dfn-linked_data_graph"><ins class="diff-chg">
linked
data
graph
</ins></dfn><ins class="diff-chg">
is
a
labeled
directed
graph,
where
nodes
are
</ins><a class="tref internalDFN" title="subject" href="#dfn-subject"><ins class="diff-chg">
subject
</ins></a><ins class="diff-chg">
s
or
</ins><a class="tref internalDFN" title="object" href="#dfn-object"><ins class="diff-chg">
object
</ins></a><ins class="diff-chg">
s,
and
edges
are
properties.
</ins></li><li><ins class="diff-chg">
A
</ins><dfn title="subject" id="dfn-subject"><ins class="diff-chg">
subject
</ins></dfn><ins class="diff-chg">
is
any
node
in
a
</ins><a class="tref internalDFN" title="linked_data_graph" href="#dfn-linked_data_graph"><ins class="diff-chg">
linked
data
graph
</ins></a><ins class="diff-chg">
with
at
least
one
outgoing
edge.
</ins></li><li><ins class="diff-chg">
A
</ins><a class="tref internalDFN" title="subject" href="#dfn-subject"><ins class="diff-chg">
subject
</ins></a><em class="rfc2119" title="should"><ins class="diff-chg">
should
</ins></em><ins class="diff-chg">
be
labeled
with
a
IRI.
</ins></li><li><ins class="diff-chg">
A
</ins><dfn title="property" id="dfn-property"><ins class="diff-chg">
property
</ins></dfn><ins class="diff-chg">
is
an
edge
of
the
</ins><a class="tref internalDFN" title="linked_data_graph" href="#dfn-linked_data_graph"><ins class="diff-chg">
linked
data
graph
</ins></a><ins class="diff-chg">
.
</ins></li><li><ins class="diff-chg">
A
</ins><a class="tref internalDFN" title="property" href="#dfn-property"><ins class="diff-chg">
property
</ins></a><em class="rfc2119" title="must"><ins class="diff-chg">
must
</ins></em><ins class="diff-chg">
be
labeled
with
an
IRI.
</ins></li><li><ins class="diff-chg">
An
</ins><dfn title="object" id="dfn-object"><ins class="diff-chg">
object
</ins></dfn><ins class="diff-chg">
is
a
node
in
a
</ins><a class="tref internalDFN" title="linked_data_graph" href="#dfn-linked_data_graph"><ins class="diff-chg">
linked
data
graph
</ins></a><ins class="diff-chg">
with
at
least
one
incoming
edge.
</ins></li><li><ins class="diff-chg">
An
</ins><a class="tref internalDFN" title="object" href="#dfn-object"><ins class="diff-chg">
object
</ins></a><em class="rfc2119" title="may"><ins class="diff-chg">
may
</ins></em><ins class="diff-chg">
be
labeled
with
an
IRI.
</ins></li><li><ins class="diff-chg">
An
IRI
that
is
a
label
in
a
</ins><a class="tref internalDFN" title="linked_data_graph" href="#dfn-linked_data_graph"><ins class="diff-chg">
linked
data
graph
</ins></a><em class="rfc2119" title="should"><ins class="diff-chg">
should
</ins></em><ins class="diff-chg">
be
dereferencable
</ins>
to
<del class="diff-old">IRIs
</del>
<ins class="diff-chg">a
</ins><a class="tref internalDFN" title="Linked_Data" href="#dfn-linked_data"><ins class="diff-chg">
Linked
Data
</ins></a><ins class="diff-chg">
document
describing
the
labeled
</ins><a class="tref internalDFN" title="subject" href="#dfn-subject"><ins class="diff-chg">
subject
</ins></a>,<a class="tref internalDFN" title="object" href="#dfn-object"><ins class="diff-chg">
object
</ins></a><ins class="diff-chg">
or
</ins><a class="tref internalDFN" title="property" href="#dfn-property"><ins class="diff-chg">
property
</ins></a><ins class="diff-chg">
.
</ins></li><li><ins class="diff-chg">
A
</ins><dfn title="literal" id="dfn-literal"><ins class="diff-chg">
literal
</ins></dfn><ins class="diff-chg">
is
an
</ins><a class="tref internalDFN" title="object" href="#dfn-object"><ins class="diff-chg">
object
</ins></a><ins class="diff-chg">
with
a
label
that
is
not
an
IRI
</ins></li></ol><p><ins class="diff-chg">
Note
that
the
definition
for
</ins><a class="tref internalDFN" title="Linked_Data" href="#dfn-linked_data"><ins class="diff-chg">
Linked
Data
</ins></a><ins class="diff-chg">
above
is
silent
on
the
topic
of
unlabeled
nodes.
Unlabeled
nodes
are
not
considered
</ins><a class="tref internalDFN" title="Linked_Data" href="#dfn-linked_data"><ins class="diff-chg">
Linked
Data
</ins></a>.<ins class="diff-chg">
However,
this
specification
allows
for
the
expression
of
unlabled
nodes,
as
most
graph-based
data
sets
on
the
Web
contain
a
number
of
associated
nodes
that
are
not
named
and
thus
are
not
directly
de-referenceable.
</ins></p></div><div id="linking-data" class="section"><h3><span class="secno"><ins class="diff-chg">
2.3
</ins></span><ins class="diff-chg">
Linking
Data
</ins>
</h3>
<p>
An
Internationalized
Resource
Identifier
(
<dfn title="IRI" id="dfn-iri">
<abbr title="Internationalized Resource Identifier">
IRI
</abbr>
</dfn>
<del class="diff-old">)
</del>
<ins class="diff-chg">),
</ins>
as
described
in
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-RFC3987">
RFC3987
</a>
</cite>
],
is
a
mechanism
for
representing
unique
identifiers
on
the
web.
In
<a class="tref internalDFN" title="Linked_Data" href="#dfn-linked_data">
Linked
<del class="diff-old">Data,
IRIs
(or
URI
references)
are
</del>
<ins class="diff-chg">Data
</ins></a>,<ins class="diff-chg">
an
IRI
is
</ins>
commonly
used
for
<del class="diff-old">describing
entities
and
properties.
</del>
<ins class="diff-chg">expressing
a
</ins><a class="tref internalDFN" title="subject" href="#dfn-subject"><ins class="diff-chg">
subject
</ins></a>,<ins class="diff-chg">
a
</ins><a class="tref internalDFN" title="property" href="#dfn-property"><ins class="diff-chg">
property
</ins></a><ins class="diff-chg">
or
an
</ins><a class="tref internalDFN" title="object" href="#dfn-object"><ins class="diff-chg">
object
</ins></a>.
</p>
<p>
<del class="diff-old">Establishing
</del>
<ins class="diff-chg">JSON-LD
defines
</ins>
a
mechanism
to
map
JSON
values
to
<del class="diff-old">IRIs
will
help
in
the
mapping
of
JSON
objects
to
RDF.
</del>
<ins class="diff-chg">IRIs.
</ins>
This
does
not
mean
that
JSON-LD
<del class="diff-old">must
</del>
<ins class="diff-chg">requires
every
key
or
value
to
</ins>
be
<del class="diff-old">restrictive
in
declaring
a
set
of
terms,
rather,
experimentation
</del>
<ins class="diff-chg">an
IRI,
but
rather
ensures
that
keys
</ins>
and
<del class="diff-old">innovation
should
</del>
<ins class="diff-chg">values
can
</ins>
be
<del class="diff-old">supported
as
part
of
</del>
<ins class="diff-chg">mapped
to
IRIs
if
</ins>
the
<del class="diff-old">core
design
of
JSON-LD.
</del>
<ins class="diff-chg">developer
so
desires
to
transform
their
data
into
Linked
Data.
</ins>
There
<del class="diff-old">are,
however,
</del>
<ins class="diff-chg">are
</ins>
a
<del class="diff-old">number
of
very
small
design
criteria
</del>
<ins class="diff-chg">few
techniques
</ins>
that
can
ensure
that
developers
will
generate
good
<del class="diff-old">RDF
data
that
will
create
value
</del>
<ins class="diff-chg">Linked
Data
</ins>
for
the
<del class="diff-old">greater
semantic
web
community
and
JSON/REST-based
Web
Services
community.
</del>
<ins class="diff-chg">Web.
JSON-LD
formalizes
those
techniques.
</ins>
</p>
<p>
We
will
be
using
the
following
JSON
<del class="diff-old">object
</del>
<ins class="diff-chg">markup
</ins>
as
the
example
for
<ins class="diff-new">the
rest
of
</ins>
this
section:
</p>
<del class="diff-old">{
  "a": "Person",
  "name": "Manu Sporny",
  "homepage": "http://manu.sporny.org/"
  "avatar": "http://twitter.com/account/profile_image/manusporny"
</del>
<pre class="example">{
<ins class="diff-chg">  "name": "Manu Sporny",
  "homepage": "http://manu.sporny.org/"
  "avatar": "http://twitter.com/account/profile_image/manusporny"
</ins>
}
</pre>
</div>
<div id="the-context" class="section">
<h3>
<span class="secno">
<del class="diff-old">2.3
</del>
<ins class="diff-chg">2.4
</ins>
</span>
The
<del class="diff-old">JSON-LD
</del>
Context
</h3>
<p>
<del class="diff-old">A
</del>
<ins class="diff-chg">In
JSON-LD,
a
</ins>
context
is
used
to
allow
developers
to
<del class="diff-old">use
aliases
for
</del>
<ins class="diff-chg">map
</ins><a class="tref internalDFN" title="term" href="#dfn-term"><ins class="diff-chg">
term
</ins></a><ins class="diff-chg">
s
to
</ins>
<a class="tref internalDFN" title="IRI" href="#dfn-iri">
IRI
</a>
s.
<ins class="diff-new">A
</ins><dfn title="term" id="dfn-term"><ins class="diff-new">
term
</ins></dfn><ins class="diff-new">
is
a
short
word
that
</ins><em class="rfc2119" title="may"><ins class="diff-new">
may
</ins></em><ins class="diff-new">
be
expanded
to
an
</ins><a class="tref internalDFN" title="IRI" href="#dfn-iri"><ins class="diff-new">
IRI
</ins></a>.
The
semantic
web,
just
like
the
document-based
web,
uses
IRIs
for
unambiguous
identification.
The
idea
is
that
these
<del class="diff-old">terms
</del>
<a class="tref internalDFN" title="term" href="#dfn-term">
<ins class="diff-chg">term
</ins></a><ins class="diff-chg">
s
</ins>
mean
<del class="diff-old">something,
which
you
will
eventually
want
to
query.
A
context
allows
the
expression
of
a
number
</del>
<ins class="diff-chg">something
that
may
be
</ins>
of
<del class="diff-old">terms
which
map
directly
</del>
<ins class="diff-chg">use
</ins>
to
<del class="diff-old">IRI
s.
</del>
<ins class="diff-chg">other
developers.
</ins>
For
example,
the
term
<code>
name
</code>
may
map
directly
to
the
IRI
<code>
http://xmlns.com/foaf/0.1/name
</code>.
This
allows
JSON-LD
documents
to
be
constructed
using
<ins class="diff-new">the
</ins>
common
JSON
<del class="diff-old">syntax
</del>
<ins class="diff-chg">practice
</ins>
of
<del class="diff-old">using
</del>
simple
name/value
<del class="diff-old">pairs.
</del>
<ins class="diff-chg">pairs
while
ensuring
that
the
data
is
useful
outside
of
the
database
or
page
in
which
it
resides.
</ins>
</p>
<p>
<del class="diff-old">To
reduce
</del>
<ins class="diff-chg">These
Linked
Data
</ins><a class="tref internalDFN" title="term" href="#dfn-term"><ins class="diff-chg">
term
</ins></a><ins class="diff-chg">
s
are
typically
collected
in
a
context
and
then
used
by
adding
a
single
line
to
</ins>
the
<del class="diff-old">number
of
different
</del>
<ins class="diff-chg">JSON
markup
above:
</ins></p><pre class="example">{  <span class="diff">"@context": "http://example.org/json-ld-contexts/person",</span><ins class="diff-chg">
  "name": "Manu Sporny",
  "homepage": "http://manu.sporny.org/"
  "avatar": "http://twitter.com/account/profile_image/manusporny"
}
</ins></pre><p><ins class="diff-chg">
The
addition
above
transforms
the
previous
JSON
document
into
a
JSON
document
with
added
semantics
because
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
specifies
how
the
</ins><strong><ins class="diff-chg">
name
</ins></strong>,<strong><ins class="diff-chg">
homepage
</ins></strong>,<ins class="diff-chg">
and
</ins><strong><ins class="diff-chg">
avatar
</ins></strong>
terms
<del class="diff-old">that
must
be
defined,
JSON-LD
also
</del>
<ins class="diff-chg">map
to
IRIs.
Mapping
those
keys
to
IRIs
gives
the
data
global
context.
If
two
developers
use
the
same
IRI
to
describe
a
property,
they
are
more
than
likely
expressing
the
same
concept.
This
</ins>
allows
<del class="diff-old">terms
</del>
<ins class="diff-chg">both
developers
</ins>
to
<del class="diff-old">be
used
</del>
<ins class="diff-chg">re-use
each
others
data
without
having
</ins>
to
<del class="diff-old">expand
Compact
URIs
(
CURIE
).
</del>
<ins class="diff-chg">agree
to
how
their
data
will
inter-operate
on
a
site-by-site
basis.
</ins></p><p>
The
semantic
web
<del class="diff-old">specifies
this
via
</del>
<ins class="diff-chg">uses
a
special
type
of
document
called
a
</ins>
<em>
<ins class="diff-new">Web
</ins>
Vocabulary
<del class="diff-old">Documents
,
in
which
</del>
</em>
<ins class="diff-chg">to
define
</ins><a class="tref internalDFN" title="term" href="#dfn-term"><ins class="diff-chg">
term
</ins></a><ins class="diff-chg">
s.
A
context
is
</ins>
a
<ins class="diff-new">type
of
Web
vocabulary.
Typically,
these
Web
Vocabulary
documents
have
</ins><a class="tref internalDFN" title="prefix" href="#dfn-prefix">
prefix
<del class="diff-old">is
</del>
</a>
<ins class="diff-chg">es
</ins>
associated
with
<del class="diff-old">a
document,
</del>
<ins class="diff-chg">them
</ins>
and
<ins class="diff-new">contain
</ins>
a
<del class="diff-old">suffix
</del>
<ins class="diff-chg">number
of
</ins><a class="tref internalDFN" title="term" href="#dfn-term"><ins class="diff-chg">
term
</ins></a><ins class="diff-chg">
declarations.
A
</ins><dfn title="prefix" id="dfn-prefix"><ins class="diff-chg">
prefix
</ins></dfn>,<ins class="diff-chg">
like
a
</ins><a class="tref internalDFN" title="term" href="#dfn-term"><ins class="diff-chg">
term
</ins></a>,
is
<del class="diff-old">used
</del>
<ins class="diff-chg">a
short
word
that
expands
</ins>
to
<del class="diff-old">create
an
IRI
based
on
this
</del>
<ins class="diff-chg">a
Web
Vocabulary
IRI.
</ins><a class="tref internalDFN" title="Prefix" href="#dfn-prefix"><ins class="diff-chg">
Prefix
</ins></a><ins class="diff-chg">
es
are
helpful
when
a
developer
wants
to
mix
multiple
vocabularies
together
in
a
context,
but
does
not
want
to
go
to
the
trouble
of
defining
every
single
term
in
every
single
</ins>
vocabulary.
<ins class="diff-new">Some
Web
Vocabularies
may
have
10-20
terms
defined.
If
a
developer
wants
to
use
3-4
different
vocabularies,
the
number
of
terms
that
would
have
to
be
declared
in
a
single
context
would
become
quite
large.
To
reduce
the
number
of
different
terms
that
must
be
defined,
JSON-LD
also
allows
prefixes
to
be
used
to
compact
IRIs.
</ins></p><p></p><p>
For
example,
the
IRI
<code>
http://xmlns.com/foaf/0.1/
</code>
specifies
a
<ins class="diff-new">Web
</ins>
Vocabulary
<del class="diff-old">Document,
and
</del>
<ins class="diff-chg">which
may
be
represented
using
the
</ins><code><ins class="diff-chg">
foaf
</ins></code><a class="tref internalDFN" title="prefix" href="#dfn-prefix"><ins class="diff-chg">
prefix
</ins></a>.<ins class="diff-chg">
The
</ins><code><ins class="diff-chg">
foaf
</ins></code><ins class="diff-chg">
Web
Vocabulary
contains
a
term
called
</ins><strong><ins class="diff-chg">
name
</ins></strong>.<ins class="diff-chg">
If
you
join
the
</ins><code><ins class="diff-chg">
foaf
</ins></code><a class="tref internalDFN" title="prefix" href="#dfn-prefix"><ins class="diff-chg">
prefix
</ins></a><ins class="diff-chg">
with
the
</ins>
<strong>
name
</strong>
<del class="diff-old">is
</del>
<ins class="diff-chg">suffix,
you
can
build
</ins>
a
<del class="diff-old">term
in
</del>
<ins class="diff-chg">compact
IRI
</ins>
that
<del class="diff-old">vocabulary.
Join
the
two
items
together
and
you
have
</del>
<ins class="diff-chg">will
expand
out
into
</ins>
an
<del class="diff-old">unambiguous
identifier
</del>
<ins class="diff-chg">absolute
IRI
</ins>
for
<del class="diff-old">a
</del>
<ins class="diff-chg">the
</ins><code><ins class="diff-chg">
http://xmlns.com/foaf/0.1/name
</ins></code>
vocabulary
term.
<del class="diff-old">The
Compact
URI
Expression,
</del>
<ins class="diff-chg">That
is,
the
compact
IRI,
</ins>
or
short-form,
is
<code>
foaf:name
</code>
and
the
expanded-form
is
<code>
http://xmlns.com/foaf/0.1/name
</code>.
This
vocabulary
term
<del class="diff-old">identifies
the
given
name
for
something,
for
example
-
</del>
<ins class="diff-chg">is
used
to
specify
</ins>
a
person's
name.
</p>
<p>
Developers,
and
machines,
<del class="diff-old">would
be
</del>
<ins class="diff-chg">are
</ins>
able
to
use
this
IRI
(plugging
it
directly
into
a
web
browser,
for
instance)
to
go
to
the
term
and
get
a
definition
of
what
the
term
means.
Much
like
we
can
use
WordNet
today
to
see
the
<a href="http://wordnetweb.princeton.edu/perl/webwn?s=definition">
definition
</a>
of
words
in
the
English
language.
<del class="diff-old">Machines
</del>
<ins class="diff-chg">Developers
and
machines
</ins>
need
the
same
sort
of
dictionary
of
<del class="diff-old">terms,
and
URIs
</del>
<ins class="diff-chg">terms.
IRIs
</ins>
provide
a
way
to
ensure
that
these
terms
are
unambiguous.
</p>
<p>
The
context
provides
a
collection
of
vocabulary
<del class="diff-old">terms
</del>
<a class="tref internalDFN" title="term" href="#dfn-term">
<ins class="diff-chg">term
</ins></a><ins class="diff-chg">
s
and
</ins><a class="tref internalDFN" title="prefix" href="#dfn-prefix"><ins class="diff-chg">
prefix
</ins></a><ins class="diff-chg">
es
</ins>
that
can
be
used
<del class="diff-old">for
a
</del>
<ins class="diff-chg">to
expand
</ins>
JSON
<del class="diff-old">object.
</del>
<ins class="diff-chg">keys
and
values
into
</ins><a class="tref internalDFN" title="IRI" href="#dfn-iri"><ins class="diff-chg">
IRI
</ins></a><ins class="diff-chg">
s.
</ins>
</p>
<div id="inside-a-context" class="section">
<h4>
<span class="secno">
<del class="diff-old">2.4
</del>
<ins class="diff-chg">2.4.1
</ins>
</span>
<del class="diff-old">Unambiguous
Identifiers
for
JSON
If
a
set
of
terms,
like
Person
,
name
,
and
homepage
,
are
defined
in
</del>
<ins class="diff-chg">Inside
</ins>
a
<del class="diff-old">context,
and
that
context
is
used
to
resolve
</del>
<ins class="diff-chg">Context
</ins></h4><p><ins class="diff-chg">
In
</ins>
the
<del class="diff-old">names
in
JSON
objects,
machines
could
automatically
expand
</del>
<ins class="diff-chg">previous
section,
</ins>
the
<del class="diff-old">terms
</del>
<ins class="diff-chg">developer
used
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
keyword
</ins>
to
<ins class="diff-new">pull
in
an
external
context.
That
context
document,
if
de-referenced,
would
look
</ins>
something
<del class="diff-old">meaningful
and
unambiguous,
</del>
like
this:
</p>
<del class="diff-old">{
  "",
  "": "Manu Sporny",
  "": "http://manu.sporny.org"
  "": "http://twitter.com/account/profile_image/manusporny"
</del>
<pre class="example">{
<ins class="diff-chg">    "name": "http://xmlns.com/foaf/0.1/name",
    "homepage": "http://xmlns.com/foaf/0.1/homepage"
    "avatar": "http://xmlns.com/foaf/0.1/avatar"
</ins>
}
</pre>
<p>
<del class="diff-old">Doing
this
would
mean
that
JSON
would
start
to
become
unambiguously
machine-readable,
play
well
with
the
semantic
web,
and
basic
markup
wouldn't
be
that
much
more
complex
than
basic
JSON
markup.
</del>
A
<del class="diff-old">win,
all
around.
2.5
Mashing
Up
Vocabularies
Developers
would
also
benefit
by
allowing
other
vocabularies
to
be
used
automatically
with
their
JSON
API.
There
are
over
200
Vocabulary
Documents
that
are
available
for
use
on
the
Web
today.
Some
of
these
vocabularies
are:
RDF
-
for
describing
information
about
objects
on
the
semantic
web.
RDFS
-
for
expressing
things
like
labels
and
comments.
XSD
-
for
specifying
basic
types
like
strings,
integers,
dates
and
times.
Dublin
Core
-
for
describing
creative
works.
FOAF
-
for
describing
social
networks.
Calendar
-
for
specifying
events.
SIOC
-
for
describing
discussions
on
blogs
and
websites.
CCrel
-
for
describing
Creative
Commons
and
other
types
of
licenses.
GEO
-
for
describing
geographic
location.
VCard
-
for
describing
organizations
and
people.
DOAP
-
for
describing
projects.
Since
these
vocabularies
are
very
popular,
they
are
pre-defined
in
something
called
the
default
</del>
<ins class="diff-chg">JSON-LD
</ins>
context
<del class="diff-old">,
which
</del>
<ins class="diff-chg">document
</ins>
is
a
<del class="diff-old">set
of
vocabulary
prefixes
that
are
pre-loaded
in
all
JSON-LD
processors.
The
contents
of
the
default
context
</del>
<ins class="diff-chg">simple
mapping
from
</ins><a class="tref internalDFN" title="term" href="#dfn-term"><ins class="diff-chg">
term
</ins>
</a>
<del class="diff-old">are
provided
later
in
this
document.
Using
the
default
context
</del>
<ins class="diff-chg">s
and
</ins><a class="tref internalDFN" title="prefix" href="#dfn-prefix"><ins class="diff-chg">
prefix
</ins>
</a>
<del class="diff-old">allows
developers
</del>
<ins class="diff-chg">es
</ins>
to
<del class="diff-old">express
data
unambiguously,
like
so:
{
  "",
  "": "Manu Sporny",
  "": "http://manu.sporny.org/",
  "": "http://twitter.com/account/profile_image/manusporny"
}
Developers
can
</del>
<ins class="diff-chg">IRIs.
Contexts
may
</ins>
also
<del class="diff-old">specify
their
own
Vocabulary
documents
by
modifying
the
active
context
</del>
<ins class="diff-chg">contain
datatype
information
for
certain
</ins><a class="tref internalDFN" title="term" href="#dfn-term"><ins class="diff-chg">
term
</ins>
</a>
<del class="diff-old">in-line
using
the
@context
keyword,
like
so:
{
  ,
  "a": "foaf:Person",
  "foaf:name": "Manu Sporny",
  "foaf:homepage": "http://manu.sporny.org/",
  "sioc:avatar": "http://twitter.com/account/profile_image/manusporny",
  "myvocab:personality": "friendly"
}
The
@context
keyword
is
used
to
change
how
the
JSON-LD
processor
evaluates
key-value
pairs.
In
this
case,
it
was
used
to
map
one
string
('myvocab')
to
another
string,
which
is
interpreted
</del>
<ins class="diff-chg">s
</ins>
as
<del class="diff-old">a
IRI
.
In
the
example
above,
the
myvocab
string
is
replaced
with
"
http://example.org/myvocab#
"
when
it
is
detected.
In
</del>
<ins class="diff-chg">well
as
other
processing
instructions
for
</ins>
the
<del class="diff-old">example
above,
"
myvocab:personality
"
would
expand
to
"
http://example.org/myvocab#personality
".
</del>
<ins class="diff-chg">JSON-LD
processor.
</ins>
</p>
<p>
<ins class="diff-new">Contexts
may
be
specified
in-line.
</ins>
This
<del class="diff-old">mechanism
is
a
short-hand
for
RDF,
called
</del>
<ins class="diff-chg">ensures
that
JSON-LD
documents
can
be
processed
when
</ins>
a
<del class="diff-old">CURIE,
and
provides
developers
an
unambiguous
way
to
map
any
JSON
value
</del>
<ins class="diff-chg">JSON-LD
processor
does
not
have
access
</ins>
to
<del class="diff-old">RDF.
</del>
<ins class="diff-chg">the
Web.
</ins>
</p>
<del class="diff-old">2.6
An
Example
of
a
Context
</del>
<p>
JSON-LD
strives
to
ensure
that
developers
don't
have
to
change
the
JSON
that
is
going
into
and
being
returned
from
their
Web
applications.
<ins class="diff-new">This
means
that
developers
can
also
specify
a
context
for
JSON
data
in
an
out-of-band
fashion
via
the
API.
The
API
is
described
later
in
this
document.
</ins>
A
JSON-LD
aware
Web
Service
<em class="rfc2119" title="may">
may
</em>
<ins class="diff-new">also
</ins>
define
a
<del class="diff-old">known
context.
For
example,
the
following
default
</del>
context
<del class="diff-old">could
apply
to
all
incoming
Web
Service
calls
previously
accepting
only
JSON
data:
{
  "@context": 
  {
    "@vocab": "http://example.org/default-vocab#",
    "@base": "http://example.org/baseurl/",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "dc": "http://purl.org/dc/terms/",
    "foaf": "http://xmlns.com/foaf/0.1/",
    "sioc": "http://rdfs.org/sioc/ns#",
    "cc": "http://creativecommons.org/ns#",
    "geo": "http://www.w3.org/2003/01/geo/wgs84_pos#",
    "vcard": "http://www.w3.org/2006/vcard/ns#",
    "cal": "http://www.w3.org/2002/12/cal/ical#",
    "doap": "http://usefulinc.com/ns/doap#",
    "Person": "http://xmlns.com/foaf/0.1/Person",
    "name": "http://xmlns.com/foaf/0.1/name",
    "homepage": "http://xmlns.com/foaf/0.1/homepage"
    "@coerce": 
    {
      "xsd:anyURI": ["rdf:type", "rdf:rest", "foaf:homepage", "foaf:member"],
      "xsd:integer": "foaf:age"
    }
  }
}
The
@vocab
string
is
a
special
keyword
</del>
that
<del class="diff-old">states
that
any
term
that
doesn't
resolve
to
a
term
or
a
prefix
should
</del>
<ins class="diff-chg">will
</ins>
be
<del class="diff-old">appended
</del>
<ins class="diff-chg">pre-loaded
for
all
calls
</ins>
to
the
<del class="diff-old">@vocab
IRI.
</del>
<ins class="diff-chg">service.
</ins>
This
<del class="diff-old">is
done
to
ensure
that
terms
can
be
transformed
to
an
IRI
at
all
times.
The
@base
string
is
a
special
keyword
that
states
</del>
<ins class="diff-chg">allows
services
</ins>
that
<del class="diff-old">any
relative
IRI
must
be
appended
to
the
string
specified
by
@base
.
The
@coerce
keyword
is
used
to
specify
type
coercion
rules
for
the
data.
For
each
key
in
the
map,
the
key
is
the
type
to
be
coerced
to
</del>
<ins class="diff-chg">have
previously
been
publishing
</ins>
and
<del class="diff-old">the
value
is
the
vocabulary
term
</del>
<ins class="diff-chg">receiving
JSON
data
</ins>
to
<del class="diff-old">be
coerced.
Type
coercion
for
the
key
xsd:anyURI
asserts
that
all
vocabulary
terms
listed
should
undergo
coercion
</del>
<ins class="diff-chg">accept
JSON-LD
data
without
requiring
client
software
</ins>
to
<del class="diff-old">an
IRI,
including
@base
processing
for
relative
IRIs
and
CURIE
processing
for
compact
URI
Expressions
such
as
foaf:homepage
.
</del>
<ins class="diff-chg">change.
</ins>
</p>
</div>
</div>
<div id="from-json-to-json-ld" class="section">
<h3>
<span class="secno">
<del class="diff-old">3.
</del>
<ins class="diff-chg">2.5
</ins>
</span>
<del class="diff-old">Markup
Examples
The
JSON-LD
markup
examples
below
demonstrate
how
JSON-LD
can
be
used
</del>
<ins class="diff-chg">From
JSON
</ins>
to
<del class="diff-old">express
semantic
data
marked
up
in
other
languages
such
as
RDFa,
Microformats,
and
Microdata.
These
sections
are
merely
provided
as
proof
that
</del>
JSON-LD
<del class="diff-old">is
very
flexible
in
what
it
can
express
across
different
Linked
Data
approaches.
3.1
RDFa
</del>
</h3>
<p>
<del class="diff-old">The
following
example
describes
three
people
with
their
respective
names
</del>
<ins class="diff-chg">If
a
set
of
terms
such
as,
</ins><strong><ins class="diff-chg">
name
</ins></strong>,<strong><ins class="diff-chg">
homepage
</ins></strong>,
and
<del class="diff-old">homepages.
&lt;div &gt;
   &lt;ul&gt;
      &lt;li &gt;
        &lt;a &gt;Bob&lt;/a&gt;
      &lt;/li&gt;
      &lt;li &gt;
        &lt;a &gt;Eve&lt;/a&gt;
      &lt;/li&gt;
      &lt;li &gt;
        &lt;a &gt;Manu&lt;/a&gt;
      &lt;/li&gt;
   &lt;/ul&gt;
&lt;/div&gt;
An
example
JSON-LD
implementation
is
described
below,
however,
there
</del>
<strong>
<ins class="diff-chg">avatar
</ins></strong>,
are
<del class="diff-old">other
ways
to
mark-up
this
information
such
</del>
<ins class="diff-chg">defined
in
a
context,
and
</ins>
that
<del class="diff-old">the
</del>
context
is
<del class="diff-old">not
repeated.
[
 {
   "@": "_:bnode1",
   "a": "foaf:Person",
   "foaf:homepage": "http://example.com/bob/",
   "foaf:name": "Bob"
 },
 {
   "@": "_:bnode2",
   "a": "foaf:Person",
   "foaf:homepage": "http://example.com/eve/",
   "foaf:name": "Eve"
 },
 {
   "@": "_:bnode3",
   "a": "foaf:Person",
   "foaf:homepage": "http://example.com/manu/",
   "foaf:name": "Manu"
 }
]
3.2
Microformats
The
following
example
uses
a
simple
Microformats
hCard
example
</del>
<ins class="diff-chg">used
</ins>
to
<del class="diff-old">express
how
</del>
<ins class="diff-chg">resolve
</ins>
the
<del class="diff-old">Microformat
is
represented
</del>
<ins class="diff-chg">names
</ins>
in
<del class="diff-old">JSON-LD.
&lt;div class="vcard"&gt;
 &lt;a class="url fn" href="http://tantek.com/"&gt;Tantek elik&lt;/a&gt;
&lt;/div&gt;
The
representation
of
the
hCard
expresses
</del>
<ins class="diff-chg">JSON
objects,
machines
are
able
to
automatically
expand
</ins>
the
<del class="diff-old">Microformat
</del>
terms
<del class="diff-old">in
the
context
and
uses
them
directly
for
the
url
and
fn
properties.
Also
note
that
the
Microformat
</del>
to
<del class="diff-old">JSON-LD
processor
has
generated
the
proper
URL
type
for
http://tantek.com
.
</del>
<ins class="diff-chg">something
meaningful
and
unambiguous,
like
this:
</ins>
</p>
<del class="diff-old">{
  "@context": 
  {
    "vcard": "http://microformats.org/profile/hcard#vcard",
    "url": "http://microformats.org/profile/hcard#url",
    "fn": "http://microformats.org/profile/hcard#fn",
    "@coerce": { "xsd:anyURI": "url" }
  },
  "@": "_:bnode1",
  "a": "vcard",
  "url": "http://tantek.com/",
  "fn": "Tantek elik"
</del>
<pre class="example">{
<ins class="diff-chg">  "<span class="diff">http://xmlns.com/foaf/0.1/name</span>": "Manu Sporny",
  "<span class="diff">http://xmlns.com/foaf/0.1/homepage</span>": "http://manu.sporny.org"
  "<span class="diff">http://rdfs.org/sioc/ns#avatar</span>": "http://twitter.com/account/profile_image/manusporny"
</ins>
}
</pre>
<del class="diff-old">3.3
Microdata
</del>
<p>
<del class="diff-old">The
Microdata
example
below
expresses
book
information
as
a
Microdata
Work
item.
&lt;dl itemscope
    itemtype="http://purl.org/vocab/frbr/core#Work"
    itemid="http://purl.oreilly.com/works/45U8QJGZSQKDH8N"&gt;
 &lt;dt&gt;Title&lt;/dt&gt;
 &lt;dd&gt;&lt;cite itemprop="http://purl.org/dc/terms/title"&gt;Just a Geek&lt;/cite&gt;&lt;/dd&gt;
 &lt;dt&gt;By&lt;/dt&gt;
 &lt;dd&gt;&lt;span itemprop="http://purl.org/dc/terms/creator"&gt;Wil Wheaton&lt;/span&gt;&lt;/dd&gt;
 &lt;dt&gt;Format&lt;/dt&gt;
 &lt;dd itemprop="http://purl.org/vocab/frbr/core#realization"
     itemscope
     itemtype="http://purl.org/vocab/frbr/core#Expression"
     itemid="http://purl.oreilly.com/products/9780596007683.BOOK"&gt;
  &lt;link itemprop="http://purl.org/dc/terms/type" href="http://purl.oreilly.com/product-types/BOOK"&gt;
  Print
 &lt;/dd&gt;
 &lt;dd itemprop="http://purl.org/vocab/frbr/core#realization"
     itemscope
     itemtype="http://purl.org/vocab/frbr/core#Expression"
     itemid="http://purl.oreilly.com/products/9780596802189.EBOOK"&gt;
  &lt;link itemprop="http://purl.org/dc/terms/type" href="http://purl.oreilly.com/product-types/EBOOK"&gt;
  Ebook
 &lt;/dd&gt;
&lt;/dl&gt;
Note
that
the
JSON-LD
representation
of
the
Microdata
information
stays
true
to
the
desires
of
the
Microdata
community
</del>
<ins class="diff-chg">Doing
this
allows
JSON
</ins>
to
<del class="diff-old">avoid
contexts
and
instead
refer
</del>
<ins class="diff-chg">be
unambiguously
machine-readable
without
requiring
developers
that
use
JSON
</ins>
to
<del class="diff-old">items
by
</del>
<ins class="diff-chg">drastically
change
</ins>
their
<del class="diff-old">full
IRI.
</del>
<ins class="diff-chg">workflow.
</ins>
</p>
<del class="diff-old">[
  {
    "@": "http://purl.oreilly.com/works/45U8QJGZSQKDH8N",
    "a": "http://purl.org/vocab/frbr/core#Work",
    "http://purl.org/dc/terms/title": "Just a Geek",
    "http://purl.org/dc/terms/creator": "Whil Wheaton",
    "http://purl.org/vocab/frbr/core#realization": 
      ["http://purl.oreilly.com/products/9780596007683.BOOK", "http://purl.oreilly.com/products/9780596802189.EBOOK"]
  },
  {
    "@": "http://purl.oreilly.com/products/9780596007683.BOOK",
    "a": "http://purl.org/vocab/frbr/core#Expression",
    "http://purl.org/dc/terms/type": "http://purl.oreilly.com/product-types/BOOK"
  },
  {
    "@": "http://purl.oreilly.com/products/9780596802189.EBOOK",
    "a": "http://purl.org/vocab/frbr/core#Expression",
    "http://purl.org/dc/terms/type": "http://purl.oreilly.com/product-types/EBOOK"
  }
]
</del>
</div>
</div>
<div id="basic-concepts" class="section">
<h2>
<span class="secno">
<del class="diff-old">4.
</del>
<ins class="diff-chg">3.
</ins>
</span>
<del class="diff-old">Markup
of
RDF
</del>
<ins class="diff-chg">Basic
</ins>
Concepts
</h2>
<p>
JSON-LD
is
designed
to
ensure
that
<del class="diff-old">most
</del>
Linked
Data
concepts
can
be
marked
up
in
a
way
that
is
simple
to
understand
and
author
by
Web
developers.
In
many
cases,
<del class="diff-old">Javascript
objects
</del>
<ins class="diff-chg">regular
JSON
markup
</ins>
can
become
Linked
Data
with
the
simple
addition
of
a
context.
<del class="diff-old">Since
RDF
is
also
an
important
sub-community
of
the
Linked
Data
movement,
it
is
important
that
all
RDF
concepts
</del>
<ins class="diff-chg">As
more
JSON-LD
features
</ins>
are
<del class="diff-old">well-represented
in
this
specification.
This
section
details
how
each
RDF
concept
can
be
expressed
in
JSON-LD.
</del>
<ins class="diff-chg">used,
more
semantics
are
added
to
the
JSON
markup.
</ins>
</p>
<div id="iris" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.1
</del>
<ins class="diff-chg">3.1
</ins>
</span>
IRIs
</h3>
<p>
Expressing
IRIs
are
fundamental
to
Linked
Data
as
that
is
how
most
<del class="diff-old">subjects
</del>
<a class="tref internalDFN" title="subject" href="#dfn-subject">
<ins class="diff-chg">subject
</ins></a><ins class="diff-chg">
s
</ins>
and
many
<del class="diff-old">objects
</del>
<a class="tref internalDFN" title="object" href="#dfn-object">
<ins class="diff-chg">object
</ins></a>
are
<del class="diff-old">identified.
</del>
<ins class="diff-chg">named.
</ins>
IRIs
can
be
expressed
in
a
variety
of
different
ways
in
JSON-LD.
</p>
<ol>
<li>
In
general,
<del class="diff-old">an
IRI
is
generated
if
it
is
</del>
<a class="tref internalDFN" title="term" href="#dfn-term">
<ins class="diff-chg">term
</ins></a><ins class="diff-chg">
s
</ins>
in
the
key
position
in
an
associative
<del class="diff-old">array.
</del>
<ins class="diff-chg">array
that
have
a
mapping
to
an
IRI
in
the
context
are
expanded
to
an
IRI
by
JSON-LD
processors.
</ins>
There
are
special
rules
for
processing
keys
in
<code>
@context
</code>
and
when
dealing
with
keys
that
start
with
the
<code>
@
</code>
character.
</li>
<li>
An
IRI
is
generated
for
the
value
specified
using
<code>
<del class="diff-old">@
</del>
<ins class="diff-chg">@subject
</ins>
</code>,
if
it
is
a
string.
</li>
<li>
An
IRI
is
generated
for
the
value
specified
using
<code>
<del class="diff-old">a
</del>
<ins class="diff-chg">@type
</ins>
</code>.
</li>
<li>
An
IRI
is
generated
for
the
value
specified
using
the
<code>
@iri
</code>
keyword.
</li>
<li>
An
IRI
is
generated
when
there
are
<code>
@coerce
</code>
rules
in
effect
for
<del class="diff-old">xsd:anyURI
for
</del>
a
<del class="diff-old">particular
vocabulary
term.
</del>
<ins class="diff-chg">key
named
</ins><code><ins class="diff-chg">
@iri
</ins></code>.
</li>
</ol>
<p>
<del class="diff-old">An
example
of
IRI
generation
for
a
</del>
<ins class="diff-chg">IRIs
can
be
expressed
directly
in
the
</ins>
key
<del class="diff-old">outside
of
a
@context
:
</del>
<ins class="diff-chg">position
like
so:
</ins>
</p>
<del class="diff-old">{
...
  "": "Manu Sporny",
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "<span class="diff">http://xmlns.com/foaf/0.1/name</span>": "Manu Sporny",
...
</ins>
}
</pre>
<p>
In
the
example
above,
the
key
<code>
http://xmlns.com/foaf/0.1/name
</code>
is
interpreted
as
an
IRI,
as
opposed
to
being
interpreted
as
a
string..
</p>
<p>
Term
expansion
occurs
for
IRIs
if
a
term
is
defined
within
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>:
</p>
<del class="diff-old">{
  ""},
...
  "": "Manu Sporny",
...
</del>
<pre class="example">{
<ins class="diff-chg">  "<span class="diff">@context</span>": {"<span class="diff">name</span>": "<span class="diff">http://xmlns.com/foaf/0.1/name</span>"},
...
  "<span class="diff">name</span>": "Manu Sporny",
...
</ins>
}
</pre>
<p>
<del class="diff-old">CURIE
expansion
also
occurs
for
keys
</del>
<a class="tref internalDFN" title="Prefix" href="#dfn-prefix">
<ins class="diff-chg">Prefix
</ins></a><ins class="diff-chg">
es
are
expanded
when
used
</ins>
in
<del class="diff-old">JSON-LD:
</del>
<ins class="diff-chg">keys:
</ins>
</p>
<del class="diff-old">{
...
  "": "Manu Sporny",
...
</del>
<pre class="example">{
<ins class="diff-chg">  "<span class="diff">@context</span>": {"<span class="diff">foaf</span>": "<span class="diff">http://xmlns.com/foaf/0.1/</span>"},
...
  "<span class="diff">foaf:name</span>": "Manu Sporny",
...
</ins>
}
</pre>
<p>
<code>
foaf:name
</code>
above
will
automatically
expand
out
to
the
IRI
<code>
http://xmlns.com/foaf/0.1/name
</code>.
</p>
<p>
An
IRI
is
generated
when
a
value
is
associated
with
a
key
using
the
<code>
@iri
</code>
keyword:
</p>
<del class="diff-old">{
...
  "foaf:homepage": { "": "http://manu.sporny.org" }
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "foaf:homepage": { "<span class="diff">@iri</span>": "http://manu.sporny.org" }
...
</ins>
}
</pre>
<p>
If
type
coercion
rules
are
specified
in
the
<code>
@context
</code>
for
a
particular
vocabulary
term,
an
IRI
is
generated:
</p>
<del class="diff-old">{
  "@context": 
  { 
    "@coerce": 
    {
      "xsd:anyURI": "foaf:homepage"
    } 
  }
...
  "foaf:homepage": "http://manu.sporny.org",
...
</del>
<pre class="example">{<span class="diff">
<ins class="diff-chg">  "@context": 
  { 
    "@coerce": 
    {
      "@iri": "foaf:homepage"
    }
  }</span>
...
  "foaf:homepage": "http://manu.sporny.org/",
...
</ins>
}
</pre>
<p>
<ins class="diff-new">Even
though
the
value
</ins><code><ins class="diff-new">
http://manu.sporny.org/
</ins></code><ins class="diff-new">
is
a
string,
the
type
coercion
rules
will
transform
the
value
into
an
IRI
when
processed
by
a
JSON-LD
Processor
</ins></p>
</div>
<div id="identifying-the-subject" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.2
</del>
<ins class="diff-chg">3.2
</ins>
</span>
Identifying
the
Subject
</h3>
<p>
A
subject
is
declared
using
the
<code>
<del class="diff-old">@
</del>
<ins class="diff-chg">@subject
</ins>
</code>
key.
The
subject
is
the
first
piece
of
information
needed
by
the
JSON-LD
processor
in
order
to
create
the
(subject,
property,
object)
tuple,
also
known
as
a
triple.
</p>
<del class="diff-old">{
...
  "",
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "<span class="diff">@subject</span>": "<span class="diff">http://example.org/people#joebob</span>",
...
</ins>
}
</pre>
<p>
The
example
above
would
set
the
subject
to
the
IRI
<code>
http://example.org/people#joebob
</code>.
</p>
</div>
<div id="specifying-the-type" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.3
</del>
<ins class="diff-chg">3.3
</ins>
</span>
Specifying
the
Type
</h3>
<p>
The
type
of
a
particular
subject
can
be
specified
using
the
<code>
<del class="diff-old">a
</del>
<ins class="diff-chg">@type
</ins>
</code>
key.
Specifying
the
type
in
this
way
will
generate
a
triple
of
the
form
(subject,
type,
type-url).
</p>
<del class="diff-old">{
...
  "@": "http://example.org/people#joebob",
  "",
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "@subject": "http://example.org/people#joebob",
  "<span class="diff">@type</span>": "<span class="diff">http://xmlns.com/foaf/0.1/Person</span>",
...
</ins>
}
</pre>
<p>
The
example
above
would
generate
the
following
triple
<ins class="diff-new">if
the
JSON-LD
document
is
mapped
to
RDF
</ins>
(in
N-Triples
notation):
</p>
<del class="diff-old">&lt;http://example.org/people#joebob&gt; 
   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;
</del>
<pre class="example">&lt;http://example.org/people#joebob&gt; 
<ins class="diff-chg">   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;
</ins>
&lt;http://xmlns.com/foaf/0.1/Person&gt;
.
</pre>
</div>
<div id="strings" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.4
</del>
<ins class="diff-chg">3.4
</ins>
</span>
<del class="diff-old">Plain
Literals
</del>
<ins class="diff-chg">Strings
</ins>
</h3>
<p>
Regular
text
<del class="diff-old">strings
are
called
a
</del>
<ins class="diff-chg">strings,
also
refered
to
as
</ins>
<dfn title="plain_literal" id="dfn-plain_literal">
plain
literal
</dfn>
<del class="diff-old">in
RDF
and
</del>
<ins class="diff-chg">s,
</ins>
are
easily
expressed
using
regular
JSON
strings.
</p>
<del class="diff-old">{
...
  "foaf:name": "",
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "foaf:name": "<span class="diff">Mark Birbeck</span>",
...
</ins>
}
</pre>
</div>
<div id="string-internationalization" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.5
</del>
<ins class="diff-chg">3.5
</ins>
</span>
<del class="diff-old">Language
Specification
in
Plain
Literals
</del>
<ins class="diff-chg">String
Internationalization
</ins>
</h3>
<p>
JSON-LD
makes
an
assumption
that
<del class="diff-old">plain
literal
s
</del>
<ins class="diff-chg">strings
</ins>
with
associated
language
encoding
information
<del class="diff-old">is
</del>
<ins class="diff-chg">are
</ins>
not
very
common
when
used
in
JavaScript
and
Web
Services.
Thus,
it
takes
a
little
more
effort
to
express
<del class="diff-old">plain
literals
in
a
specified
language.
</del>
<ins class="diff-chg">strings
with
associated
language
information.
</ins>
</p>
<del class="diff-old">{
...
  "foaf:name": 
  {
    "@literal": "",
    "@language": "ja"
  }
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "foaf:name": <span class="diff">
  {
    "@literal": "&#33457;&#28548;",
    "@language": "ja"
  }</span>
...
</ins>
}
</pre>
<p>
The
example
above
would
generate
a
<a class="tref internalDFN" title="plain_literal" href="#dfn-plain_literal">
plain
literal
</a>
for
<em>
<del class="diff-old">
</del>
<ins class="diff-chg">&#33457;&#28548;
</ins>
</em>
and
associate
the
<code>
ja
</code>
language
<del class="diff-old">tag
</del>
<ins class="diff-chg">code
</ins>
with
the
triple
that
is
generated.
Languages
<em class="rfc2119" title="must">
must
</em>
be
expressed
in
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-BCP47">
BCP47
</a>
</cite>
]
format.
</p>
</div>
<div id="datatypes" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.6
</del>
<ins class="diff-chg">3.6
</ins>
</span>
<del class="diff-old">Typed
Literals
</del>
<ins class="diff-chg">Datatypes
</ins>
</h3>
<p>
A
<ins class="diff-new">value
with
an
associated
datatype,
also
known
as
a
</ins>
<dfn title="typed_literal" id="dfn-typed_literal">
typed
literal
</dfn>,
is
indicated
by
<del class="diff-old">attaching
a
IRI
to
the
end
of
</del>
<ins class="diff-chg">associating
</ins>
a
<del class="diff-old">plain
</del>
literal
<del class="diff-old">,
and
this
</del>
<ins class="diff-chg">with
an
</ins>
IRI
<ins class="diff-new">which
</ins>
indicates
the
<ins class="diff-new">typed
</ins>
literal's
datatype.
<del class="diff-old">Literals
</del>
<ins class="diff-chg">Typed
literals
</ins>
may
be
<del class="diff-old">typed
</del>
<ins class="diff-chg">expressed
</ins>
in
JSON-LD
in
three
ways:
</p>
<ol>
<li>
By
utilizing
the
<code>
@coerce
</code>
keyword.
</li>
<li>
By
utilizing
the
expanded
form
for
specifying
objects.
</li>
<li>
By
using
a
native
JSON
datatype.
</li>
</ol>
<p>
The
first
example
uses
the
<code>
@coerce
</code>
keyword
to
express
a
typed
literal:
</p>
<del class="diff-old">{
  "@context": 
  { 
    "@coerce": 
    {
      "xsd:dateTime": "dc:modified"
    }
  }
...
  "dc:modified": "2010-05-29T14:17:39+02:00",
...
</del>
<pre class="example">{<span class="diff">
<ins class="diff-chg">  "@context": 
  { 
    "xsd": "http://www.w3.org/2001/XMLSchema#"
    "@coerce": 
    {
      "xsd:dateTime": "dc:modified"
    }
  }</span>
...
  "dc:modified": "2010-05-29T14:17:39+02:00",
...
</ins>
}
</pre>
<p>
The
second
example
uses
the
expanded
form
for
specifying
objects:
</p>
<del class="diff-old">{
...
  "dc:modified": 
  {
    "@literal": "2010-05-29T14:17:39+02:00",
    "@datatype": "xsd:dateTime"
  }
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "dc:modified": <span class="diff">
  {
    "@literal": "2010-05-29T14:17:39+02:00",
    "@datatype": "xsd:dateTime"
  }</span>
...
</ins>
}
</pre>
<p>
Both
examples
above
would
generate
an
object
with
the
literal
value
of
<code>
2010-05-29T14:17:39+02:00
</code>
and
the
datatype
of
<code>
http://www.w3.org/2001/XMLSchema#dateTime
</code>.
</p>
<p>
<ins class="diff-new">The
third
example
uses
a
built-in
native
JSON
type,
a
number,
to
express
a
datatype:
</ins></p><pre class="example">{<ins class="diff-new">
...
  "@subject": "http://example.org/people#joebob",
  "foaf:age": <span class="diff">31</span>
...
}
</ins></pre><ins class="diff-new">
d
</ins><p><ins class="diff-new">
The
example
above
would
generate
the
following
triple:
</ins></p><pre class="example">&lt;http://example.org/people#joebob&gt; <ins class="diff-new">
   &lt;http://xmlns.com/foaf/0.1/age&gt; 
"31"^^&lt;http://www.w3.org/2001/XMLSchema#integer&gt;
.
</ins></pre>
</div>
<div id="multiple-objects-for-a-single-property" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.7
</del>
<ins class="diff-chg">3.7
</ins>
</span>
Multiple
Objects
for
a
Single
Property
</h3>
<p>
A
JSON-LD
author
can
express
multiple
triples
in
a
compact
way
by
using
arrays.
If
a
subject
has
multiple
values
for
the
same
property,
the
author
<em class="rfc2119" title="may">
may
</em>
express
each
property
as
an
array.
</p>
<del class="diff-old">{
...
  "@": "http://example.org/people#joebob",
  "foaf:nick": ,
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "@": "http://example.org/people#joebob",
  "foaf:nick": <span class="diff">["joe", "bob", "jaybee"]</span>,
...
</ins>
}
</pre>
<p>
The
markup
shown
above
would
generate
the
following
triples:
</p>
<del class="diff-old">&lt;http://example.org/people#joebob&gt; 
   &lt;http://xmlns.com/foaf/0.1/nick&gt;
      "joe" .
&lt;http://example.org/people#joebob&gt; 
   &lt;http://xmlns.com/foaf/0.1/nick&gt;
      "bob" .
&lt;http://example.org/people#joebob&gt; 
   &lt;http://xmlns.com/foaf/0.1/nick&gt;
</del>
<pre class="example">&lt;http://example.org/people#joebob&gt; 
<ins class="diff-chg">   &lt;http://xmlns.com/foaf/0.1/nick&gt;
      "joe" .
&lt;http://example.org/people#joebob&gt; 
   &lt;http://xmlns.com/foaf/0.1/nick&gt;
      "bob" .
&lt;http://example.org/people#joebob&gt; 
   &lt;http://xmlns.com/foaf/0.1/nick&gt;
</ins>
"jaybee"
.
</pre>
</div>
<div id="multiple-typed-literals-for-a-single-property" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.8
</del>
<ins class="diff-chg">3.8
</ins>
</span>
Multiple
Typed
Literals
for
a
Single
Property
</h3>
<p>
Multiple
<a class="tref internalDFN" title="typed_literal" href="#dfn-typed_literal">
typed
literal
</a>
s
may
also
be
expressed
using
the
expanded
form
for
objects:
</p>
<del class="diff-old">{
...
  "@": "http://example.org/articles/8",
  "dcterms:modified": 
  [
    {
      "@literal": "2010-05-29T14:17:39+02:00",
      "@datatype": "xsd:dateTime"
    },
    {
      "@literal": "2010-05-30T09:21:28-04:00",
      "@datatype": "xsd:dateTime"
    }
  ]
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  "@": "http://example.org/articles/8",
  "dcterms:modified": <span class="diff">
  [
    {
      "@literal": "2010-05-29T14:17:39+02:00",
      "@datatype": "xsd:dateTime"
    },
    {
      "@literal": "2010-05-30T09:21:28-04:00",
      "@datatype": "xsd:dateTime"
    }
  ]</span>
...
</ins>
}
</pre>
<p>
The
markup
shown
above
would
generate
the
following
triples:
</p>
<del class="diff-old">&lt;http://example.org/articles/8&gt; 
   &lt;http://purl.org/dc/terms/modified&gt;
      "2010-05-29T14:17:39+02:00"^^http://www.w3.org/2001/XMLSchema#dateTime .
&lt;http://example.org/articles/8&gt; 
   &lt;http://purl.org/dc/terms/modified&gt;
</del>
<pre class="example">&lt;http://example.org/articles/8&gt; 
<ins class="diff-chg">   &lt;http://purl.org/dc/terms/modified&gt;
      "2010-05-29T14:17:39+02:00"^^http://www.w3.org/2001/XMLSchema#dateTime .
&lt;http://example.org/articles/8&gt; 
   &lt;http://purl.org/dc/terms/modified&gt;
</ins>
"2010-05-30T09:21:28-04:00"^^http://www.w3.org/2001/XMLSchema#dateTime
.
</pre>
</div>
<div id="compaction" class="section">
<h3>
<span class="secno">
<del class="diff-old">4.9
</del>
<ins class="diff-chg">3.9
</ins>
</span>
<del class="diff-old">Blank
Nodes
</del>
<ins class="diff-chg">Compaction
</ins>
</h3>
<p>
<del class="diff-old">At
times,
it
becomes
necessary
to
be
able
to
express
information
without
being
able
to
specify
</del>
<ins class="diff-chg">Compaction
is
</ins>
the
<del class="diff-old">subject.
Typically,
this
</del>
<ins class="diff-chg">process
of
taking
a
JSON-LD
document
and
applying
a
context
such
that
the
most
compact
form
of
the
document
</ins>
is
<del class="diff-old">where
blank
nodes
come
into
play.
In
JSON-LD,
blank
node
identifiers
</del>
<ins class="diff-chg">generated.
JSON
is
typically
expressed
in
a
very
compact,
key-value
format.
That
is,
full
IRIs
</ins>
are
<del class="diff-old">automatically
created
if
</del>
<ins class="diff-chg">rarely
used
as
keys.
At
times,
</ins>
a
<del class="diff-old">subject
</del>
<ins class="diff-chg">JSON-LD
document
may
be
received
that
</ins>
is
not
<del class="diff-old">specified
using
</del>
<ins class="diff-chg">in
its
most
compact
form.
JSON-LD,
via
the
API,
provides
a
way
to
compact
a
JSON-LD
document.
</ins></p><p><ins class="diff-chg">
For
example,
assume
the
following
JSON-LD
input
document:
</ins></p><pre class="example">{<ins class="diff-chg">
   "http://xmlns.com/foaf/0.1/name": "Manu Sporny",
   "http://xmlns.com/foaf/0.1/homepage": 
   {
      "@iri": "http://manu.sporny.org/"
   }
}
</ins></pre><p><ins class="diff-chg">
Additionally,
assume
the
following
developer-supplied
JSON-LD
context:
</ins></p><pre class="example">{<ins class="diff-chg">
   "name": "http://xmlns.com/foaf/0.1/name",
   "homepage": "http://xmlns.com/foaf/0.1/homepage",
   "@coerce": 
   {
      "@iri": ["homepage"]
   }
}
</ins></pre><p><ins class="diff-chg">
Running
the
JSON-LD
Compaction
algorithm
given
the
context
supplied
above
against
</ins>
the
<ins class="diff-new">JSON-LD
input
document
provided
above
would
result
in
the
following
output:
</ins></p><pre class="example">{<ins class="diff-new">
   "name": "Manu Sporny",
   "homepage": "http://manu.sporny.org/",
   "@context": 
   {
      "name": "http://xmlns.com/foaf/0.1/name",
      "homepage": "http://xmlns.com/foaf/0.1/homepage",
      "@coerce": 
      {
         "@iri": "homepage"
      }
   }
}
</ins></pre><p><ins class="diff-new">
The
compaction
algorithm
also
enables
the
developer
to
map
any
expanded
format
into
an
application-specific
compacted
format.
While
the
context
provided
above
mapped
</ins>
<code>
<del class="diff-old">@
</del>
<ins class="diff-chg">http://xmlns.com/foaf/0.1/name
</ins>
</code>
<del class="diff-old">keyword.
However,
authors
may
</del>
<ins class="diff-chg">to
</ins><strong>
name
<del class="diff-old">blank
nodes
</del>
</strong>,
<ins class="diff-chg">it
could
have
also
mapped
it
to
any
arbitrary
string
provided
</ins>
by
<del class="diff-old">using
</del>
the
<del class="diff-old">special
_
CURIE
prefix.
</del>
<ins class="diff-chg">developer.
</ins>
</p>
<del class="diff-old">{
...
  "@": "",
...
</del>
</div>
<div id="expansion" class="section">
<h3>
<span class="secno">
<ins class="diff-chg">3.10
</ins></span><ins class="diff-chg">
Expansion
</ins></h3><p><ins class="diff-chg">
Expansion
is
the
process
of
taking
a
JSON-LD
document
and
applying
a
context
such
that
all
IRI,
datatypes,
and
literal
values
are
expanded
so
that
the
context
is
no
longer
necessary.
JSON-LD
document
expansion
is
typically
used
when
re-mapping
JSON-LD
documents
to
application-specific
JSON
documents
or
as
a
part
of
the
</ins><a href="#normalization"><ins class="diff-chg">
Normalization
</ins></a><ins class="diff-chg">
process.
</ins></p><p><ins class="diff-chg">
For
example,
assume
the
following
JSON-LD
input
document:
</ins></p><pre class="example">{<ins class="diff-chg">
   "name": "Manu Sporny",
   "homepage": "http://manu.sporny.org/",
   "@context": 
   {
      "name": "http://xmlns.com/foaf/0.1/name",
      "homepage": "http://xmlns.com/foaf/0.1/homepage",
      "@coerce": 
      {
         "@iri": "homepage"
      }
   }
</ins>
}
</pre>
<p>
<del class="diff-old">The
example
</del>
<ins class="diff-chg">Running
the
JSON-LD
Expansion
algorithm
against
the
JSON-LD
input
document
provided
</ins>
above
would
<del class="diff-old">set
</del>
<ins class="diff-chg">result
in
</ins>
the
<del class="diff-old">subject
</del>
<ins class="diff-chg">following
output:
</ins></p><pre class="example">{<ins class="diff-chg">
   "http://xmlns.com/foaf/0.1/name": "Manu Sporny",
   "http://xmlns.com/foaf/0.1/homepage": 
   {
      "@iri": "http://manu.sporny.org/"
   }
}
</ins></pre></div><div id="framing" class="section"><h3><span class="secno"><ins class="diff-chg">
3.11
</ins></span><ins class="diff-chg">
Framing
</ins></h3><p><ins class="diff-chg">
A
JSON-LD
document
is
a
representation
of
a
directed
graph.
A
single
directed
graph
can
have
many
different
serializations,
each
expressing
exactly
the
same
information.
Developers
typically
work
with
trees,
also
called
associative
arrays,
when
dealing
with
JSON.
While
mapping
a
graph
</ins>
to
<del class="diff-old">_:foo
,
which
</del>
<ins class="diff-chg">a
tree
can
be
done,
the
layout
of
the
end
result
must
be
specified
in
advance.
A
</ins><dfn title="Frame" id="dfn-frame"><ins class="diff-chg">
Frame
</ins></dfn>
can
<del class="diff-old">then
</del>
be
used
<del class="diff-old">later
</del>
<ins class="diff-chg">by
a
developer
</ins>
on
<ins class="diff-new">a
JSON-LD
document
to
specify
a
deterministic
layout
for
a
graph.
</ins></p><p><ins class="diff-new">
Framing
is
the
process
of
taking
a
JSON-LD
document,
which
expresses
a
graph
of
information,
and
applying
a
specific
graph
layout
(called
a
</ins><a class="tref internalDFN" title="Frame" href="#dfn-frame"><ins class="diff-new">
Frame
</ins></a><ins class="diff-new">
).
</ins></p><p><ins class="diff-new">
The
JSON-LD
document
below
expresses
a
library,
a
book
and
a
chapter:
</ins></p><pre class="example">{<ins class="diff-new">
   "@subject": 
   [{
      "@subject": "http://example.org/library",
      "@type": "ex:Library",
      "ex:contains": "http://example.org/library/the-republic"
   }, 
   {
      "@subject": "http://example.org/library/the-republic",
      "@type": "ex:Book",
      "dc:creator": "Plato",
      "dc:title": "The Republic",
      "ex:contains": "http://example.org/library/the-republic#introduction"
   }, 
   {
      "@subject": "http://example.org/library/the-republic#introduction",
      "@type": "ex:Chapter",
      "dc:description": "An introductory chapter on The Republic.",
      "dc:title": "The Introduction"
   }],
   "@context": 
   {
      "@coerce": 
      {
         "@iri": "ex:contains"
      },
      "dc": "http://purl.org/dc/elements/1.1/",
      "ex": "http://example.org/vocab#"
   }
}
</ins></pre><p><ins class="diff-new">
Developers
typically
like
to
operate
on
items
in
a
hierarchical,
tree-based
fashion.
Ideally,
a
developer
would
want
the
data
above
sorted
into
top-level
libraries,
then
the
books
that
are
contained
in
each
library,
and
then
the
chapters
contained
</ins>
in
<ins class="diff-new">each
book.
To
achieve
that
layout,
the
developer
can
define
the
following
</ins><a class="tref internalDFN" title="frame" href="#dfn-frame"><ins class="diff-new">
frame
</ins></a>:</p><pre class="example">{<ins class="diff-new">
   "@context": {
      "dc": "http://purl.org/dc/elements/1.1/",
      "ex": "http://example.org/vocab#"
   },
   "@type": "ex:Library",
   "ex:contains": {
      "@type": "ex:Book",
      "ex:contains": {
         "@type": "ex:Chapter"
      }
   }
}
</ins></pre><p><ins class="diff-new">
When
the
framing
algorithm
is
run
against
</ins>
the
<ins class="diff-new">previously
defined
</ins>
JSON-LD
<del class="diff-old">markup
</del>
<ins class="diff-chg">document,
paired
with
the
</ins><a class="tref internalDFN" title="frame" href="#dfn-frame"><ins class="diff-chg">
frame
</ins></a><ins class="diff-chg">
above,
the
following
JSON-LD
document
is
the
end
result:
</ins></p><pre class="example">{<ins class="diff-chg">
   "@context": 
   {
      "ex": "http://example.org/vocab#",
      "dc": "http://purl.org/dc/elements/1.1/"
   }
   "@subject": "http://example.org/library",
   "@type": "ex:Library",
   "ex:contains": 
   {
      "@subject": "http://example.org/library/the-republic",
      "@type": "ex:Book",
      "dc:creator": "Plato",
      "dc:title": "The Republic",
      "ex:contains": 
      {
         "@subject": "http://example.org/library/the-republic#introduction",
         "@type": "ex:Chapter",
         "dc:description": "An introductory chapter on The Republic.",
         "dc:title": "The Introduction"
      },
   },
}
</ins></pre><p><ins class="diff-chg">
The
JSON-LD
framing
algorithm
allows
developers
</ins>
to
<del class="diff-old">refer
back
</del>
<ins class="diff-chg">query
by
example
and
force
a
specific
tree
layout
</ins>
to
<del class="diff-old">the
named
blank
node.
</del>
<ins class="diff-chg">a
JSON-LD
document.
</ins>
</p>
</div>
</div>
<div id="advanced-concepts" class="section">
<h2>
<span class="secno">
<del class="diff-old">5.
</del>
<ins class="diff-chg">4.
</ins>
</span>
Advanced
<del class="diff-old">Features
</del>
<ins class="diff-chg">Concepts
</ins>
</h2>
<p>
JSON-LD
has
a
number
of
features
that
provide
functionality
above
and
beyond
the
core
functionality
<del class="diff-old">provided
by
RDF.
</del>
<ins class="diff-chg">described
above.
</ins>
The
following
sections
outline
the
features
that
are
specific
to
JSON-LD.
</p>
<div id="automatic-typing" class="section">
<h3>
<span class="secno">
<del class="diff-old">5.1
</del>
<ins class="diff-chg">4.1
</ins>
</span>
Automatic
Typing
</h3>
<p>
Since
JSON
is
capable
of
expressing
typed
information
such
as
doubles,
integers,
and
boolean
values.
As
demonstrated
below,
JSON-LD
utilizes
that
information
to
create
<a class="tref internalDFN" title="typed_literal" href="#dfn-typed_literal">
typed
literal
</a>
s:
</p>
<del class="diff-old">{
...
  // The following two values are automatically converted to a type of xsd:double
  // and both values are equivalent to each other.
  "measure:cups": ,
  "measure:cups": ,
  // The following value is automatically converted to a type of xsd:double as well
  "space:astronomicUnits": ,
  // The following value should never be converted to a language-native type
  "measure:stones": ,
  // This value is automatically converted to having a type of xsd:integer
  "chem:protons": ,
  // This value is automatically converted to having a type of xsd:boolean
  "sensor:active": ,
...
</del>
<pre class="example">{
<ins class="diff-chg">...
  // The following two values are automatically converted to a type of xsd:double
  // and both values are equivalent to each other.
  "measure:cups": <span class="diff">5.3</span>,
  "measure:cups": <span class="diff">5.3e0</span>,
  // The following value is automatically converted to a type of xsd:double as well
  "space:astronomicUnits": <span class="diff">6.5e73</span>,
  // The following value should never be converted to a language-native type
  "measure:stones": <span class="diff">{ "@literal": "4.8", "@datatype": "xsd:decimal" }</span>,
  // This value is automatically converted to having a type of xsd:integer
  "chem:protons": <span class="diff">12</span>,
  // This value is automatically converted to having a type of xsd:boolean
  "sensor:active": <span class="diff">true</span>,
...
</ins>
}
</pre>
<p class="note">
When
dealing
with
a
number
of
modern
programming
languages,
including
JavaScript
ECMA-262,
there
is
no
distinction
between
<strong>
xsd:decimal
</strong>
and
<strong>
xsd:double
</strong>
values.
That
is,
the
number
<code>
5.3
</code>
and
the
number
<code>
5.3e0
</code>
are
treated
as
if
they
were
the
same.
When
converting
from
JSON-LD
to
a
language-native
format
and
back,
datatype
information
is
lost
in
a
number
of
these
languages.
Thus,
one
could
say
that
<code>
5.3
</code>
is
a
<strong>
xsd:decimal
</strong>
and
<code>
5.3e0
</code>
is
an
<strong>
xsd:double
</strong>
in
JSON-LD,
but
when
both
values
are
converted
to
a
language-native
format
the
datatype
difference
between
the
two
is
lost
because
the
machine-level
representation
will
almost
always
be
a
<strong>
double
</strong>.
Implementers
should
be
aware
of
this
potential
round-tripping
issue
between
<strong>
xsd:decimal
</strong>
and
<strong>
xsd:double
</strong>.
Specifically
objects
with
a
datatype
of
<strong>
xsd:decimal
</strong>
<em class="rfc2119" title="must not">
must
not
</em>
be
converted
to
a
language
native
type.
</p>
</div>
<div id="type-coercion" class="section">
<h3>
<span class="secno">
<del class="diff-old">5.2
</del>
<ins class="diff-chg">4.2
</ins>
</span>
Type
Coercion
</h3>
<p>
JSON-LD
supports
the
coercion
of
<del class="diff-old">types
</del>
<ins class="diff-chg">values
</ins>
to
<del class="diff-old">ensure
that
the
zero-edit
goal
of
JSON-LD
can
be
accomplished.
</del>
<ins class="diff-chg">particular
data
types.
</ins>
Type
coercion
allows
someone
deploying
JSON-LD
to
coerce
<del class="diff-old">and
</del>
<ins class="diff-chg">the
</ins>
incoming
or
outgoing
types
to
the
proper
<del class="diff-old">RDF
</del>
<ins class="diff-chg">data
</ins>
type
based
on
a
mapping
of
<ins class="diff-new">data
</ins>
type
IRIs
to
<del class="diff-old">RDF
</del>
<ins class="diff-chg">property
</ins>
types.
Using
type
<del class="diff-old">conversion,
</del>
<ins class="diff-chg">coercion,
</ins>
one
may
convert
simple
JSON
data
to
properly
typed
RDF
data.
</p>
<p>
The
example
below
demonstrates
how
a
JSON-LD
author
can
coerce
values
to
<a class="tref internalDFN" title="plain_literal" href="#dfn-plain_literal">
plain
literal
</a>
s,
<a class="tref internalDFN" title="typed_literal" href="#dfn-typed_literal">
typed
literal
</a>
s
and
IRIs.
</p>
<del class="diff-old">{
  "@context": 
  {  
     "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
     "xsd": "http://www.w3.org/2001/XMLSchema#",
     "name": "http://xmlns.com/foaf/0.1/name",
     "age": "http://xmlns.com/foaf/0.1/age",
     "homepage": "http://xmlns.com/foaf/0.1/homepage",
     "@coerce":
     {
        "xsd:integer": "age",
        "xsd:anyURI": "homepage",
     }
  },
  "name": "John Smith",
  "age": ,
  "homepage": 
</del>
<pre class="example">{
<ins class="diff-chg">  "@context": 
  {  
     "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
     "xsd": "http://www.w3.org/2001/XMLSchema#",
     "name": "http://xmlns.com/foaf/0.1/name",
     "age": "http://xmlns.com/foaf/0.1/age",
     "homepage": "http://xmlns.com/foaf/0.1/homepage",
</ins><span class="diff">     "@coerce":<ins class="diff-chg">
     {
        "xsd:integer": "age",
        "@iri": "homepage",
     }</span>
  },
  "name": "John Smith",
  "age": <span class="diff">"41"</span>,
  "homepage": <span class="diff">"http://example.org/home/"</span>
</ins>
}
</pre>
<p>
The
example
above
would
generate
the
following
triples:
</p>
<del class="diff-old">_:bnode1
   &lt;http://xmlns.com/foaf/0.1/name&gt;
      "John Smith" .
_:bnode1
   &lt;http://xmlns.com/foaf/0.1/age&gt;
      "41"^^http://www.w3.org/2001/XMLSchema#integer .
_:bnode1
   &lt;http://xmlns.com/foaf/0.1/homepage&gt;
</del>
<pre class="example">_:bnode1
<ins class="diff-chg">   &lt;http://xmlns.com/foaf/0.1/name&gt;
      "John Smith" .
_:bnode1
   &lt;http://xmlns.com/foaf/0.1/age&gt;
      "41"^^http://www.w3.org/2001/XMLSchema#integer .
_:bnode1
   &lt;http://xmlns.com/foaf/0.1/homepage&gt;
</ins>
&lt;http://example.org/home/&gt;
.
</pre>
</div>
<div id="chaining" class="section">
<h3>
<span class="secno">
<ins class="diff-new">4.3
</ins></span><ins class="diff-new">
Chaining
</ins></h3><p><ins class="diff-new">
Object
</ins><dfn title="chaining" id="dfn-chaining"><ins class="diff-new">
chaining
</ins></dfn><ins class="diff-new">
is
a
JSON-LD
feature
that
allows
an
author
to
use
the
definition
of
JSON-LD
objects
as
</ins><a class="tref internalDFN" title="property" href="#dfn-property"><ins class="diff-new">
property
</ins></a><ins class="diff-new">
values.
This
is
a
commonly
used
mechanism
for
creating
a
parent-child
relationship
between
two
</ins><a class="tref internalDFN" title="subject" href="#dfn-subject"><ins class="diff-new">
subject
</ins></a><ins class="diff-new">
s.
</ins></p><p><ins class="diff-new">
The
example
shows
an
two
subjects
related
by
a
property
from
the
first
subject:
</ins></p>  <pre class="example">{<ins class="diff-new">
...
  "foaf:name": "Manu Sporny",
  "<span class="diff">foaf:knows</span>": {
    "<span class="diff">@type</span>": "<span class="diff">foaf:Person</span>",
    "<span class="diff">foaf:name</span>": "<span class="diff">Gregg Kellogg</span>",
  }
...
}
</ins></pre><p><ins class="diff-new">
An
object
definition,
like
the
one
used
above,
</ins><em class="rfc2119" title="may"><ins class="diff-new">
may
</ins></em><ins class="diff-new">
be
used
as
a
JSON
value
at
any
point
in
JSON-LD.
</ins></p>
</div>
<div id="identifying-unlabeled-nodes" class="section">
<h3>
<span class="secno">
<del class="diff-old">6.
</del>
<ins class="diff-chg">4.4
</ins>
</span>
<ins class="diff-new">Identifying
Unlabeled
Nodes
</ins></h3><p><ins class="diff-new">
At
times,
it
becomes
necessary
to
be
able
to
express
information
without
being
able
to
specify
the
subject.
Typically,
this
type
of
node
is
called
an
unlabeled
node
or
a
blank
node.
In
JSON-LD,
unlabeled
node
identifiers
are
automatically
created
if
a
subject
is
not
specified
using
the
</ins><code><ins class="diff-new">
@subject
</ins></code><ins class="diff-new">
keyword.
However,
authors
may
provide
identifiers
for
unlabeled
nodes
by
using
the
special
</ins><code><ins class="diff-new">
_
</ins></code><ins class="diff-new">
(underscore)
CURIE
prefix.
</ins></p><pre class="example">{<ins class="diff-new">
...
  "@subject": "<span class="diff">_:foo</span>",
...
}
</ins></pre><p>
The
<ins class="diff-new">example
above
would
set
the
subject
to
</ins><code><ins class="diff-new">
_:foo
</ins></code>,<ins class="diff-new">
which
can
then
be
used
later
on
in
the
</ins>
JSON-LD
<del class="diff-old">Processing
Algorithm
</del>
<ins class="diff-chg">markup
to
refer
back
to
the
unlabeled
node.
This
practice,
however,
is
usually
frowned
upon
when
generating
Linked
Data.
If
a
developer
finds
that
they
refer
to
the
unlabeled
node
more
than
once,
they
should
consider
naming
the
node
using
a
resolve-able
IRI.
</ins></p></div><div id="overriding-keywords" class="section"><h3><span class="secno"><ins class="diff-chg">
4.5
</ins></span><ins class="diff-chg">
Overriding
Keywords
</ins></h3><p><ins class="diff-chg">
JSON-LD
allows
all
of
the
syntax
keywords,
except
for
</ins><code><ins class="diff-chg">
@context
</ins></code>,<ins class="diff-chg">
to
be
overridden.
This
feature
allows
more
legacy
JSON
content
to
be
supported
by
JSON-LD.
It
also
allows
developers
to
design
domain-specific
implementations
using
only
the
JSON-LD
context.
</ins></p><pre class="example">{<ins class="diff-chg">
  "@context": 
  {  
</ins>     <span class="diff">"url": "@subject"</span>,     <span class="diff">"a": "@type"</span>,<ins class="diff-chg">
     "name": "http://schema.org/name"
  },
  "url": "http://example.com/about#gregg",
  "a": "http://schema.org/Person",
  "name": "Gregg Kellogg"
}
</ins></pre><p><ins class="diff-chg">
In
the
example
above,
the
</ins><code><ins class="diff-chg">
@subject
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
@type
</ins></code><ins class="diff-chg">
keywords
have
been
overridden
by
</ins><strong><ins class="diff-chg">
url
</ins></strong><ins class="diff-chg">
and
</ins><strong><ins class="diff-chg">
a
</ins></strong>,<ins class="diff-chg">
respectively.
</ins></p></div><div id="normalization" class="section"><h3><span class="secno"><ins class="diff-chg">
4.6
</ins></span><ins class="diff-chg">
Normalization
</ins></h3><p><ins class="diff-chg">
Normalization
is
the
process
of
taking
a
JSON-LD
document
and
performing
a
deterministic
transformation
on
that
document
that
results
in
a
final
document
that
any
conforming
JSON-LD
processor
would
have
generated
given
the
same
input
document.
The
problem
is
a
fairly
difficult
technical
problem
to
solve
because
it
requires
a
directed
graph
to
be
ordered
into
a
set
of
nodes
and
edges
in
a
deterministic
way.
This
is
easy
to
do
when
all
of
the
nodes
have
unique
names,
but
very
difficult
to
do
when
some
of
the
nodes
are
unlabeled.
</ins></p><p><ins class="diff-chg">
Normalization
is
useful
when
comparing
two
graphs
against
one
another,
when
generating
a
detailed
list
of
differences
between
two
graphs,
and
when
generating
a
cryptographic
digital
signature
for
information
contained
in
a
graph
or
when
generating
a
hash
of
the
information
contained
in
a
graph.
</ins></p><p><ins class="diff-chg">
The
example
below
is
an
un-normalized
JSON-LD
document:
</ins></p><pre class="example">{<ins class="diff-chg">
   "name": "Manu Sporny",
   "homepage": "http://manu.sporny.org/",
   "@context": 
   {
      "name": "http://xmlns.com/foaf/0.1/name",
      "homepage": "http://xmlns.com/foaf/0.1/homepage",
      "xsd": "http://www.w3.org/2001/XMLSchema#",
      "@coerce": 
      {
         "@iri": ["homepage"]
      }
   }
}
</ins></pre><p><ins class="diff-chg">
The
example
below
is
the
normalized
form
of
the
JSON-LD
document
above:
</ins></p><p class="note"><ins class="diff-chg">
Whitespace
is
used
below
to
aid
readability.
The
normalization
algorithm
for
JSON-LD
remove
all
unnecessary
whitespace
in
the
fully
normalized
form.
</ins></p><pre class="example">[{<ins class="diff-chg">
    "@subject": 
    {
        "@iri": "_:c14n0"
    },
    "http://xmlns.com/foaf/0.1/homepage": 
    {
        "@iri": "http://manu.sporny.org/"
    },
    "http://xmlns.com/foaf/0.1/name": "Manu Sporny"
}]
</ins></pre><p><ins class="diff-chg">
Notice
how
all
of
the
</ins><a class="tref internalDFN" title="term" href="#dfn-term"><ins class="diff-chg">
term
</ins></a><ins class="diff-chg">
s
have
been
expanded
and
sorted
in
alphabetical
order.
Also,
notice
how
the
</ins><a class="tref internalDFN" title="subject" href="#dfn-subject"><ins class="diff-chg">
subject
</ins></a><ins class="diff-chg">
has
been
labeled
with
a
blank
node
identifier.
Normalization
ensures
that
any
arbitrary
graph
containing
exactly
the
same
information
would
be
normalized
to
exactly
the
same
form
shown
above.
</ins></p></div></div><div id="algorithms" class="section"><h2><span class="secno"><ins class="diff-chg">
5.
</ins></span><ins class="diff-chg">
Algorithms
</ins>
</h2>
<div id="compaction-1" class="section">
<h3>
<span class="secno">
<ins class="diff-new">5.1
</ins></span><ins class="diff-new">
Compaction
</ins></h3><p class="issue"><ins class="diff-new">
TBD:
Explain
compaction
algorithm.
</ins></p></div><div id="expansion-1" class="section"><h3><span class="secno"><ins class="diff-new">
5.2
</ins></span><ins class="diff-new">
Expansion
</ins></h3><p class="issue"><ins class="diff-new">
TBD:
Explain
expansion
algorithm.
</ins></p></div><div id="framing-1" class="section"><h3><span class="secno"><ins class="diff-new">
5.3
</ins></span><ins class="diff-new">
Framing
</ins></h3><p class="issue"><ins class="diff-new">
TBD:
Explain
framing
algorithm.
</ins></p></div><div id="normalization-1" class="section"><h3><span class="secno"><ins class="diff-new">
5.4
</ins></span><ins class="diff-new">
Normalization
</ins></h3><p class="issue"><ins class="diff-new">
TBD:
Explain
normalization
algorithm.
</ins></p></div><div id="rdf-conversion" class="section"><h3><span class="secno"><ins class="diff-new">
5.5
</ins></span><ins class="diff-new">
RDF
Conversion
</ins></h3><p><ins class="diff-new">
A
JSON-LD
document
</ins><em class="rfc2119" title="may"><ins class="diff-new">
may
</ins></em><ins class="diff-new">
be
converted
to
any
other
RDF-compatible
document
format
using
the
algorithm
specified
in
this
section.
</ins></p>
<p>
The
JSON-LD
Processing
Model
describes
processing
rules
for
extracting
RDF
from
a
JSON-LD
document.
Note
that
many
uses
of
JSON-LD
may
not
require
generation
of
RDF.
</p>
<p>
The
processing
algorithm
described
in
this
section
is
provided
in
order
to
demonstrate
how
one
might
implement
a
JSON-LD
<ins class="diff-new">to
RDF
</ins>
processor.
Conformant
implementations
are
only
required
to
produce
the
same
type
and
number
of
triples
during
the
output
process
and
are
not
required
to
implement
the
algorithm
exactly
as
described.
</p>
<p class="issue">
The
<del class="diff-old">Processing
</del>
<ins class="diff-chg">RDF
Conversion
</ins>
Algorithm
is
a
work
in
progress.
</p>
<div class="informative section" id="overview">
<h4>
<span class="secno">
<del class="diff-old">6.1
</del>
<ins class="diff-chg">5.5.1
</ins>
</span>
Overview
</h4>
<p>
<em>
This
section
is
non-normative.
</em>
</p>
<p>
JSON-LD
is
intended
to
have
an
easy
to
parse
grammar
that
closely
models
existing
practice
in
using
JSON
for
describing
object
representations.
This
allows
the
use
of
existing
libraries
for
parsing
JSON
in
a
document-oriented
fashion,
or
can
allow
for
stream-based
parsing
similar
to
SAX.
</p>
<p>
As
with
other
grammars
used
for
describing
<del class="diff-old">linked
data,
</del>
<a class="tref internalDFN" title="Linked_Data" href="#dfn-linked_data">
<ins class="diff-chg">Linked
Data
</ins></a>,
a
key
concept
is
that
of
a
<em>
resource
</em>.
Resources
may
be
of
three
basic
types:
<em>
IRI
</em>
s,
for
describing
externally
named
entities,
<em>
BNodes
</em>,
resources
for
which
an
external
name
does
not
exist,
or
is
not
known,
and
Literals,
which
describe
terminal
entities
such
as
strings,
dates
and
other
representations
having
a
lexical
representation
possibly
including
an
explicit
language
or
datatype.
</p>
<p>
Data
described
with
JSON-LD
may
be
considered
to
be
the
representation
of
a
graph
made
up
of
<a class="tref internalDFN" title="subject" href="#dfn-subject">
subject
</a>
and
<a class="tref internalDFN" title="object" href="#dfn-object">
object
</a>
resources
related
via
a
<del class="diff-old">predicate
</del>
<a class="tref internalDFN" title="property" href="#dfn-property">
<ins class="diff-chg">property
</ins></a>
resource.
However,
specific
implementations
may
choose
to
operate
on
the
document
as
a
normal
JSON
description
of
objects
having
attributes.
</p>
</div>
<div id="processing-algorithm-terms" class="section">
<h4>
<span class="secno">
<del class="diff-old">6.2
</del>
<ins class="diff-chg">5.5.2
</ins>
</span>
Processing
Algorithm
Terms
</h4>
<dl>
<dt>
<del class="diff-old">default
</del>
<dfn title="initial_context" id="dfn-initial_context">
<ins class="diff-chg">initial
</ins>
context
</dfn>
</dt>
<dd>
a
context
that
is
specified
to
the
JSON-LD
processing
algorithm
before
processing
begins.
</dd>
<dt>
<dfn title="default_graph" id="dfn-default_graph">
default
graph
</dfn>
</dt>
<dd>
the
destination
graph
for
all
triples
generated
by
JSON-LD
markup.
</dd>
<dt>
<dfn title="active_subject" id="dfn-active_subject">
active
subject
</dfn>
</dt>
<dd>
the
currently
active
subject
that
the
processor
should
use
when
generating
triples.
</dd>
<dt>
<dfn title="active_property" id="dfn-active_property">
active
property
</dfn>
</dt>
<dd>
the
currently
active
property
that
the
processor
should
use
when
generating
triples.
</dd>
<dt>
<dfn title="active_object" id="dfn-active_object">
active
object
</dfn>
</dt>
<dd>
the
currently
active
object
that
the
processor
should
use
when
generating
triples.
</dd>
<dt>
<dfn title="active_context" id="dfn-active_context">
active
context
</dfn>
</dt>
<dd>
a
context
that
is
used
to
resolve
CURIEs
while
the
processing
algorithm
is
running.
The
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
is
the
context
contained
within
the
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>.
</dd>
<dt>
<dfn title="local_context" id="dfn-local_context">
local
context
</dfn>
</dt>
<dd>
a
context
that
is
specified
at
the
JSON
associative-array
level,
specified
via
the
<code>
@context
</code>
keyword.
</dd>
<dt>
<dfn title="processor_state" id="dfn-processor_state">
processor
state
</dfn>
</dt>
<dd>
the
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>,
which
includes
the
<a class="tref" title="active__context">
active
context
</a>,
<a class="tref" title="current_subject">
current
subject
</a>,
and
<a class="tref" title="current_property">
current
property
</a>.
The
<a class="tref" title="processor__state">
processor
state
</a>
is
managed
as
a
stack
with
elements
from
the
previous
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>
copied
into
a
new
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>
when
entering
a
new
associative
array.
</dd>
</dl>
</div>
<div id="processing-tokens-and-keywords" class="section">
<h4>
<span class="secno">
<del class="diff-old">6.3
</del>
<ins class="diff-chg">5.5.3
</ins>
</span>
Processing
Tokens
and
Keywords
</h4>
<dl>
<dt>
<code>
@context
</code>
</dt>
<dd>
Used
to
set
the
<a class="tref internalDFN" title="local_context" href="#dfn-local_context">
local
context
</a>.
</dd>
<dt>
<code>
@base
</code>
</dt>
<dd>
Used
to
set
the
base
IRI
for
all
object
IRIs
affected
by
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>.
</dd>
<dt>
<code>
<del class="diff-old">@profile
A
reference
to
a
remote
context
description
used
to
set
the
local
context
.
</del>
@vocab
</code>
</dt>
<dd>
Used
to
set
the
base
IRI
for
all
property
IRIs
affected
by
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>.
</dd>
<dt>
<code>
@coerce
</code>
</dt>
<dd>
Used
to
specify
type
coercion
rules.
</dd>
<dt>
<code>
@literal
</code>
</dt>
<dd>
Used
to
specify
a
literal
value.
</dd>
<dt>
<code>
@iri
</code>
</dt>
<dd>
Used
to
specify
an
IRI
value.
</dd>
<dt>
<code>
@language
</code>
</dt>
<dd>
Used
to
specify
the
language
for
a
literal.
</dd>
<dt>
<code>
@datatype
</code>
</dt>
<dd>
Used
to
specify
the
datatype
for
a
literal.
</dd>
<dt>
<code>:
</code>
</dt>
<dd>
The
separator
for
CURIEs
when
used
in
JSON
keys
or
JSON
values.
</dd>
<dt>
<code>
<del class="diff-old">@
</del>
<ins class="diff-chg">@subject
</ins>
</code>
</dt>
<dd>
Sets
the
active
subjects.
</dd>
<dt>
<code>
<del class="diff-old">a
</del>
<ins class="diff-chg">@type
</ins>
</code>
</dt>
<dd>
Used
to
set
the
rdf:type
of
the
active
subjects.
This
token
may
be
conferred
as
syntactic
sugar
for
rdf:type.
</dd>
</dl>
<del class="diff-old">Use
@source
instead
of
@
?
Use
@type
instead
of
a
?
Note
that
both
are
just
semantic
sugar
for
rdf:type
.
</del>
</div>
<div id="context-1" class="section">
<h4 id="context">
<span class="secno">
<del class="diff-old">6.4
</del>
<ins class="diff-chg">5.5.4
</ins>
</span>
Context
</h4>
<p>
Processing
of
JSON-LD
is
managed
recursively
using
a
process
described
in
<a href="sequence">
Sequence
</a>.
During
processing,
each
rule
is
applied
using
information
provided
by
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>.
Processing
begins
by
pushing
a
new
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>
onto
the
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>
stack
and
initializing
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
with
the
<del class="diff-old">default
</del>
<a class="tref internalDFN" title="initial_context" href="#dfn-initial_context">
<ins class="diff-chg">initial
</ins>
context
</a>.
If
a
<a class="tref internalDFN" title="local_context" href="#dfn-local_context">
local
context
</a>
is
encountered,
information
from
the
<a class="tref internalDFN" title="local_context" href="#dfn-local_context">
local
context
</a>
is
merged
into
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>.
</p>
<p class="issue">
Should
the
document
URL
be
used
as
the
default
for
<code>
@base
</code>
in
the
<del class="diff-old">default
</del>
<a class="tref internalDFN" title="initial_context" href="#dfn-initial_context">
<ins class="diff-chg">initial
</ins>
context
</a>
?
</p>
<p>
The
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
is
used
for
expanding
keys
and
values
of
an
associative
array
(or
elements
of
a
list
(see
<span a="#list-processing">
List
Processing
</span>
)).
</p>
<p>
A
<a class="tref internalDFN" title="local_context" href="#dfn-local_context">
local
context
</a>
is
identified
within
an
associative
array
having
a
key
of
<code>
@context
</code>
with
an
associative
array
value.
When
processing
a
<a class="tref internalDFN" title="local_context" href="#dfn-local_context">
local
context
</a>,
special
rules
apply:
</p>
<ul>
<li>
The
key
<code>
@base
</code>
<em class="rfc2119" title="must">
must
</em>
have
a
value
of
a
simple
string
with
the
lexical
form
of
IRI
and
is
saved
in
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
to
perform
term
mapping
as
described
in
<a href="#iri-processing">
IRI
Processing
</a>.
</li>
<li>
The
key
<code>
@vocab
</code>
<em class="rfc2119" title="must">
must
</em>
have
a
value
of
a
simple
string
with
the
lexical
form
of
IRI
and
is
saved
in
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
to
perform
term
mapping
as
described
in
<a href="#iri-processing">
IRI
Processing
</a>.
</li>
<li>
The
key
<code>
@coerce
</code>
<em class="rfc2119" title="must">
must
</em>
have
a
value
of
an
associative
array.
Processing
of
the
associative
array
is
described
<a href="#coerce">
below
</a>
</li>
<li>
Otherwise,
the
key
<em class="rfc2119" title="must">
must
</em>
have
the
lexical
form
of
<cite>
<a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/#NT-NCName">
NCName
</a>
</cite>
and
<em class="rfc2119" title="must">
must
</em>
have
the
value
of
a
simple
string
with
the
lexical
form
of
IRI.
Merge
each
key-value
pair
into
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>,
overwriting
any
duplicate
values.
</li>
</ul>
<del class="diff-old">A
local
context
may
also
be
loaded
from
an
external
document
using
the
@profile
key
as
described
in
Vocabulary
Profiles
.
6.4.1
</del>
<div class="section">
<h5 id="coerce">
Coerce
</h5>
<p>
Map
each
key-value
pair
in
the
<a class="tref internalDFN" title="local_context" href="#dfn-local_context">
local
context
</a>
's
<code>
@coerce
</code>
mapping
into
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
's
<code>
@coerce
</code>
mapping,
overwriting
any
duplicate
values
in
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
's
<code>
@coerce
</code>
mapping.
The
<code>
@coerce
</code>
mapping
has
<del class="diff-old">a
</del>
either
<del class="diff-old">of
</del>
a
single
CURIE
or
<del class="diff-old">of
</del>
an
array
of
CURIEs.
When
merging
with
an
existing
mapping
in
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>,
map
all
CURIE
values
to
array
form
and
replace
with
the
union
of
the
value
from
the
<a class="tref internalDFN" title="local_context" href="#dfn-local_context">
local
context
</a>
and
the
value
of
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>.
If
the
result
is
an
array
with
a
single
CURIE,
the
processor
<em class="rfc2119" title="may">
may
</em>
represent
this
as
a
string
value.
</p>
</div>
</div>
<del class="diff-old">6.5
Chaining
Object
chaining
is
a
JSON-LD
feature
that
allows
an
author
to
use
the
definition
of
JSON-LD
objects
as
property
values.
This
is
a
commonly
used
mechanism
for
creating
a
parent-child
relationship
between
objects.
The
example
shows
an
two
objects
related
by
a
property
from
the
first
object:
  
{
...
  "foaf:name": "Manu Sporny",
  "": {
    "",
    "",
  }
...
}
An
object
definition
may
be
used
anyplace
a
value
is
legal
in
JSON-LD.
</del>
<div id="iri-processing" class="section">
<h4>
<span class="secno">
<del class="diff-old">6.6
</del>
<ins class="diff-chg">5.5.5
</ins>
</span>
IRI
Processing
</h4>
<p>
Keys
and
some
values
are
evaluated
to
produce
an
IRI.
This
section
defines
an
algorithm
for
transforming
a
value
representing
an
IRI
into
an
actual
IRI.
</p>
<p>
IRIs
may
be
represented
as
an
explicit
string,
or
as
a
CURIE,
as
a
value
relative
to
<code>
@base
</code>
or
<code>
@vocab
</code>.
</p>
<p>
CURIEs
are
defined
more
formally
in
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-RDFA-CORE">
RDFA-CORE
</a>
</cite>
]
<cite>
<a href="http://www.w3.org/TR/rdfa-core/#s_curies">
section
6
"CURIE
Syntax
Definition"
</a>
</cite>.
Generally,
a
CURIE
is
composed
of
a
<em>
prefix
</em>
and
a
<em>
suffix
</em>
separated
by
a
':'.
In
JSON-LD,
either
the
prefix
may
be
the
empty
string,
denoting
the
<dfn title="default_prefix" id="dfn-default_prefix">
default
prefix
</dfn>.
</p>
<p>
The
procedure
for
generating
an
IRI
is:
</p>
<ol class="algorithm">
<li>
Split
the
value
into
a
<em>
prefix
</em>
and
<em>
suffix
</em>
from
the
first
occurrence
of
':'.
</li>
<li>
If
the
prefix
is
a
'_',
generate
a
named
BNode
using
the
suffix
as
the
name.
</li>
<li>
If
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
contains
a
mapping
for
<em>
prefix
</em>,
generate
an
IRI
by
prepending
the
mapped
prefix
to
the
(possibly
empty)
suffix.
Note
that
an
empty
suffix
and
no
suffix
(meaning
the
value
contains
no
':'
string
at
all)
are
treated
equivalently.
</li>
<li>
If
the
IRI
being
processed
is
for
a
property
(i.e.,
a
key
value
in
an
associative
array,
or
a
value
in
a
<code>
@coerce
</code>
mapping)
and
the
active
context
has
a
<code>
@vocab
</code>
mapping,
join
the
mapped
value
to
the
suffix
using
the
method
described
in
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-RFC3987">
RFC3987
</a>
</cite>
].
</li>
<li>
If
the
IRI
being
processed
is
for
a
subject
or
object
(i.e.,
not
a
property)
and
the
active
context
has
a
<code>
@base
</code>
mapping,
join
the
mapped
value
to
the
suffix
using
the
method
described
in
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-RFC3987">
RFC3987
</a>
</cite>
].
</li>
<li>
Otherwise,
use
the
value
directly
as
an
IRI.
</li>
</ol>
<p>
</p>
</div>
<div id="sequence" class="section">
<h4>
<span class="secno">
<del class="diff-old">7.
</del>
<ins class="diff-chg">5.5.6
</ins>
</span>
Sequence
</h4>
<p>
The
algorithm
below
is
designed
for
in-memory
implementations
with
random
access
to
associative
array
elements.
<del class="diff-old">For
a
description
of
a
streaming
implementation,
see
Appendix
B
.
</del>
</p>
<p>
A
conforming
JSON-LD
processor
<em class="rfc2119" title="must">
must
</em>
implement
a
processing
algorithm
that
results
in
the
same
<a class="tref internalDFN" title="default_graph" href="#dfn-default_graph">
default
graph
</a>
that
the
following
algorithm
generates:
</p>
<ol class="algorithm">
<li id="processing-step-default-context">
Create
a
new
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>
with
with
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>
set
to
the
<del class="diff-old">default
</del>
<a class="tref internalDFN" title="initial_context" href="#dfn-initial_context">
<ins class="diff-chg">initial
</ins>
context
</a>
and
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>
and
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
initialized
to
NULL.
</li>
<li id="processing-step-associative">
If
an
associative
array
is
detected,
perform
the
following
steps:
<ol class="algorithm">
<li>
If
the
associative
array
has
a
<code>
@context
</code>
key,
process
the
local
context
as
described
in
<a href="#context">
Context
</a>.
</li>
<li>
If
the
associative
array
has
an
<code>
@iri
</code>
key,
set
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
by
performing
<a href="#iri-processing">
IRI
Processing
</a>
on
the
associated
value.
Generate
a
triple
representing
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
the
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
and
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>.
Return
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
to
the
calling
location.
</li>
<li>
If
the
associative
array
has
a
<code>
@literal
</code>
key,
set
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
to
a
literal
value
as
follows:
<ul>
<li>
as
a
<a class="tref internalDFN" title="typed_literal" href="#dfn-typed_literal">
typed
literal
</a>
if
the
associative
array
contains
a
<code>
@datatype
</code>
key
after
performing
<a href="#iri-processing">
IRI
Processing
</a>
on
the
specified
<code>
@datatype
</code>.
</li>
<li>
otherwise,
as
a
<a class="tref internalDFN" title="plain_literal" href="#dfn-plain_literal">
plain
literal
</a>.
If
the
associative
array
contains
a
<code>
@language
</code>
key,
use
it's
value
to
set
the
language
of
the
plain
literal.
</li>
</ul>
Generate
a
triple
representing
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
the
<a class="tref" title="active__property">
active
property
</a>
and
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>.
Return
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
to
the
calling
location.
</li>
<li>
If
the
associative
array
has
a
<code>
@
</code>
key:
<ol class="algorithm">
<li>
If
the
value
is
a
string,
set
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
to
the
result
of
performing
<a href="#iri-processing">
IRI
Processing
</a>.
Generate
a
triple
representing
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
the
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
and
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>.
Set
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>
to
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>.
</li>
<li>
Create
a
new
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>
using
copies
of
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>,
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>
and
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
and
process
the
value
starting
at
<a href="#processing-step-associative">
Step
2
</a>,
set
the
<a class="tref" title="active__subject">
active
subject
</a>
to
the
result
and
proceed
using
the
previous
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>.
</li>
</ol>
</li>
<li>
If
the
associative
array
does
not
have
a
<code>
@
</code>
key,
set
the
<a class="tref" title="active__object">
active
object
</a>
to
newly
generated
<a class="tref" title="blank_node_identifier">
blank
node
identifier
</a>.
Generate
a
triple
representing
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
the
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
and
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>.
Set
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>
to
the
<a class="tref" title="active__object">
active
object
</a>.
</li>
<li>
For
each
key
in
the
associative
array
that
has
not
already
been
processed,
perform
the
following
steps:
<ol class="algorithm">
<li>
If
the
key
is
<code>
a
</code>,
set
the
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
to
<code>
rdf:type
</code>.
</li>
<li>
Otherwise,
set
the
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
to
the
result
of
performing
<a href="#iri-processing">
IRI
Processing
</a>
on
the
key.
</li>
<li>
Create
a
new
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>
copies
of
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>,
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>
and
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
and
process
the
value
starting
at
<a href="#processing-step-associative">
Step
2
</a>
and
proceed
using
the
previous
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>.
</li>
</ol>
</li>
<li>
Return
the
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
to
the
calling
location.
</li>
</ol>
</li>
<li>
If
a
regular
array
is
detected,
process
each
value
in
the
array
by
doing
the
following
returning
the
result
of
processing
the
last
value
in
the
array:
<ol class="algorithm">
<li>
If
the
value
is
a
regular
array,
generate
an
RDF
List
by
linking
each
element
of
the
list
using
<code>
rdf:first
</code>
and
<code>
rdf:next
</code>,
terminating
the
list
with
<code>
rdf:nil
</code>
using
the
following
sequence:
<ol>
<li>
If
the
list
has
no
element,
generate
a
triple
using
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
and
<code>
rdf:nil
</code>.
</li>
<li>
Otherwise,
generate
a
triple
using
using
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
and
a
newly
generated
BNode
identified
as
<em>
first
bnode
</em>.
</li>
<li>
For
each
element
other
than
the
last
element
in
the
list:
<ol>
<li>
Create
a
processor
state
using
the
active
context,
<em>
first
bnode
</em>
as
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
and
<code>
rdf:first
</code>
as
the
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>.
</li>
<li>
Unless
this
is
the
last
element
in
the
list,
generate
a
new
BNode
identified
as
<em>
rest
bnode
</em>,
otherwise
use
<code>
rdf:nil
</code>.
</li>
<li>
Generate
a
new
triple
using
<em>
first
bnode
</em>,
<code>
rdf:rest
</code>
and
<em>
rest
bnode
</em>.
</li>
<li>
Set
<em>
first
bnode
</em>
to
<em>
rest
bnode
</em>.
</li>
</ol>
</li>
</ol>
</li>
<li>
Otherwise,
create
a
new
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>
copies
of
the
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
active
context
</a>,
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>
and
<a class="tref internalDFN" title="active_property" href="#dfn-active_property">
active
property
</a>
and
process
the
value
starting
at
<a href="#processing-step-associative">
Step
2
</a>
and
proceed
using
the
previous
<a class="tref internalDFN" title="processor_state" href="#dfn-processor_state">
processor
state
</a>.
</li>
</ol>
</li>
<li>
If
a
string
is
detected,
generate
a
triple
using
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
and
a
<a class="tref internalDFN" title="plain_literal" href="#dfn-plain_literal">
plain
literal
</a>
value
created
from
the
string.
</li>
<li>
If
a
number
is
detected,
generate
a
<a class="tref internalDFN" title="typed_literal" href="#dfn-typed_literal">
typed
literal
</a>
using
a
string
representation
of
the
value
with
datatype
set
to
either
<code>
xsd:integer
</code>
or
<code>
xsd:double
</code>,
depending
on
if
the
value
contains
a
fractional
and/or
an
exponential
component.
Generate
a
triple
using
the
<a class="tref" title="active__subject">
active
subject
</a>,
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
and
the
generated
typed
literal.
</li>
<li>
Otherwise,
if
<strong>
true
</strong>
or
<strong>
false
</strong>
is
detected,
generate
a
triple
using
the
<a class="tref internalDFN" title="active_subject" href="#dfn-active_subject">
active
subject
</a>,
<a class="tref internalDFN" title="active_object" href="#dfn-active_object">
active
object
</a>
and
a
<a class="tref internalDFN" title="typed_literal" href="#dfn-typed_literal">
typed
literal
</a>
value
created
from
the
string
representation
of
the
value
with
datatype
set
to
<code>
xsd:boolean
</code>.
</li>
</ol>
</div>
<del class="diff-old">8.
Best
Practices
The
nature
of
Web
programming
allows
one
to
use
basic
technologies,
such
as
JSON-LD,
across
a
variety
of
systems
and
environments.
This
section
attempts
to
describe
some
of
those
environments
and
the
way
in
which
JSON-LD
can
be
integrated
in
order
to
help
alleviate
certain
development
headaches.
8.1
JavaScript
It
is
expected
that
JSON-LD
will
be
used
quite
a
bit
in
JavaScript
environments,
however,
features
like
the
expanded
form
for
object
values
mean
that
using
JSON-LD
directly
in
JavaScript
may
be
annoying
without
a
middleware
layer
such
as
a
simple
library
that
converts
JSON-LD
markup
before
JavaScript
uses
it.
One
could
say
that
JSON-LD
is
a
good
fit
for
the
RDF
API,
which
enables
a
variety
of
RDF-based
Web
Applications,
but
some
don't
want
to
require
that
level
of
functionality
just
to
use
JSON-LD.
The
group
is
still
discussing
the
best
way
to
proceed,
so
input
on
how
JSON-LD
could
more
easily
be
utilized
in
JavaScript
environments
would
be
very
much
appreciated.
8.2
Schema-less
Databases
Databases
such
as
CouchDB
and
MongoDB
allow
the
creation
of
schema-less
data
stores.
RDF
is
a
type
of
schema-less
data
model
and
thus
lends
itself
to
databases
such
as
CouchDB
and
MongoDB.
Both
of
these
databases
can
use
JSON-LD
as
their
storage
format.
The
group
needs
feedback
from
CouchDB
and
MongoDB
experts
regarding
the
usefulness
of
JSON-LD
in
those
environments.
MongoDB
does
not
allow
the
'.'
character
to
be
used
in
key
names.
This
prevents
developers
from
storing
IRIs
as
keys,
which
also
prevents
storage
of
the
data
in
normalized
form.
While
this
issue
can
be
avoided
by
using
CURIEs
for
key
values,
it
is
not
known
if
this
mechanism
is
enough
to
allow
JSON-LD
to
be
used
in
MongoDB
in
a
way
that
is
useful
to
developers.
</del>
</div>
</div>
<div id="experimental-concepts" class="section">
<h2>
<span class="secno">
<del class="diff-old">9.
</del>
<ins class="diff-chg">6.
</ins>
</span>
<del class="diff-old">Advanced
</del>
<ins class="diff-chg">Experimental
</ins>
Concepts
</h2>
<p class="issue">
There
are
a
few
advanced
concepts
where
it
is
not
clear
whether
or
not
the
JSON-LD
specification
is
going
to
support
the
complexity
necessary
to
support
each
concept.
The
entire
section
on
Advanced
Concepts
should
be
considered
as
discussion
points;
it
is
merely
a
list
of
possibilities
where
all
of
the
benefits
and
drawbacks
have
not
been
explored.
</p>
<del class="diff-old">9.1
Vocabulary
Profiles
One
of
the
more
powerful
features
of
RDFa
1.1
Core
is
the
ability
to
specify
a
collection
of
prefixes
and
terms
that
can
be
re-used
by
a
processor
to
simplfy
markup.
JSON-LD
provides
a
similar
mechanism
called
Vocabulary
Profiles,
which
is
the
inclusion
of
a
context
external
to
the
JSON-LD
document.
The
example
below
demonstrates
how
one
may
specify
an
external
Vocabulary
Profile.
Assume
the
following
profile
exists
at
this
imaginary
URL:
http://example.org/profiles/contacts
.
{
  "@context": 
  {
     "xsd": "http://www.w3.org/2001/XMLSchema#",
     "name": "http://xmlns.com/foaf/0.1/name",
     "age": "http://xmlns.com/foaf/0.1/age",
     "homepage": "http://xmlns.com/foaf/0.1/homepage",
     "#types":
     {
        "age": "xsd:integer",
        "homepage": "xsd:anyURI",
     }
  }
}
The
profile
listed
above
can
be
used
in
the
following
way:
{
  "@profile": "http://example.org/profiles/contacts",
  "name": "John Smith",
  "age": "41",
  "homepage": "http://example.org/home/"
}
The
example
above
would
generate
the
following
triples:
_:bnode1
   &lt;http://xmlns.com/foaf/0.1/name&gt;
      "John Smith" .
_:bnode1
   &lt;http://xmlns.com/foaf/0.1/age&gt;
      "41"^^http://www.w3.org/2001/XMLSchema#integer .
_:bnode1
   &lt;http://xmlns.com/foaf/0.1/homepage&gt;
&lt;http://example.org/home/&gt;
.
</del>
<div id="disjoint-graphs" class="section">
<h3>
<span class="secno">
<del class="diff-old">9.2
</del>
<ins class="diff-chg">6.1
</ins>
</span>
Disjoint
Graphs
</h3>
<p>
When
serializing
an
RDF
graph
that
contains
two
or
more
sections
of
the
graph
which
are
entirely
disjoint,
one
must
use
an
array
to
express
the
graph
as
two
graphs.
This
may
not
be
acceptable
to
some
authors,
who
would
rather
express
the
information
as
one
graph.
Since,
by
definition,
disjoint
graphs
require
there
to
be
two
top-level
objects,
JSON-LD
utilizes
a
mechanism
that
allows
disjoint
graphs
to
be
expressed
using
a
single
graph.
</p>
<p>
Assume
the
following
RDF
graph:
</p>
<del class="diff-old">&lt;http://example.org/people#john&gt; 
   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;
      &lt;http://xmlns.com/foaf/0.1/Person&gt; .
&lt;http://example.org/people#jane&gt; 
   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;
</del>
<pre class="example">&lt;http://example.org/people#john&gt; 
<ins class="diff-chg">   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;
      &lt;http://xmlns.com/foaf/0.1/Person&gt; .
&lt;http://example.org/people#jane&gt; 
   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;
</ins>
&lt;http://xmlns.com/foaf/0.1/Person&gt;
.
</pre>
<p>
Since
the
two
subjects
are
entirely
disjoint
with
one
another,
it
is
impossible
to
express
the
RDF
graph
above
using
a
single
JSON-LD
associative
array.
</p>
<p>
In
JSON-LD,
one
can
use
the
subject
to
express
disjoint
graphs
as
a
single
graph:
</p>
<del class="diff-old">{
  "@": 
  [
    {
      "@": "http://example.org/people#john",
      "a": "foaf:Person"
    },
    {
      "@": "http://example.org/people#jane",
      "a": "foaf:Person"
    }
  ]
</del>
<pre class="example">{
<ins class="diff-chg">  "@": 
  [
    {
      "@": "http://example.org/people#john",
      "a": "foaf:Person"
    },
    {
      "@": "http://example.org/people#jane",
      "a": "foaf:Person"
    }
  ]
</ins>
}
</pre>
<p>
A
disjoint
graph
could
also
be
expressed
like
so:
</p>
<del class="diff-old">[
  {
    "@": "http://example.org/people#john",
    "a": "foaf:Person"
  },
  {
    "@": "http://example.org/people#jane",
    "a": "foaf:Person"
  }
</del>
<pre class="example">[
<ins class="diff-chg">  {
    "@": "http://example.org/people#john",
    "a": "foaf:Person"
  },
  {
    "@": "http://example.org/people#jane",
    "a": "foaf:Person"
  }
</ins>
]
</pre>
</div>
<div id="the-json-ld-api" class="section">
<h3>
<span class="secno">
<del class="diff-old">9.3
</del>
<ins class="diff-chg">6.2
</ins>
</span>
The
JSON-LD
API
</h3>
<p>
This
API
provides
a
clean
mechanism
that
enables
developers
to
convert
JSON-LD
data
into
a
format
that
is
easier
to
work
with
in
various
programming
languages.
</p>
<del class="diff-old">]
interface  {
};
</del>
<pre class="idl"><span class="idlInterface" id="idl-def-JSONLDProcessor">[<span class="extAttr">NoInterfaceObject</span>]
<ins class="diff-chg">interface <span class="idlInterfaceID">JSONLDProcessor</span> {
</ins><span class="idlMethod">    <span class="idlMethType"><a>object</a></span> <span class="idlMethName"><a href="#widl-JSONLDProcessor-toProjection-object-DOMString-jsonld-object-template-DOMString-subject-JSONLDParserCallback-callback">toProjection</a></span> (<span class="idlParam">in <span class="idlParamType"><a>DOMString</a></span> <span class="idlParamName">jsonld</span></span>, <span class="idlParam">in <span class="idlParamType"><a>object</a>?</span> <span class="idlParamName">template</span></span>, <span class="idlParam">in <span class="idlParamType"><a>DOMString</a>?</span> <span class="idlParamName">subject</span></span>, <span class="idlParam">in optional <span class="idlParamType"><a>JSONLDParserCallback</a>?</span> <span class="idlParamName">callback</span></span>);</span><span class="idlMethod">    <span class="idlMethType"><a>Graph</a></span>  <span class="idlMethName"><a href="#widl-JSONLDProcessor-toGraph-Graph-DOMString-jsonld-JSONLDParserCallback-callback">toGraph</a></span> (<span class="idlParam">in <span class="idlParamType"><a>DOMString</a></span> <span class="idlParamName">jsonld</span></span>, <span class="idlParam">in optional <span class="idlParamType"><a>JSONLDParserCallback</a>?</span> <span class="idlParamName">callback</span></span>);</span><ins class="diff-chg">
};</span>
</ins>
</pre>
<div id="methods" class="section">
<h4>
<span class="secno">
<del class="diff-old">9.3.1
</del>
<ins class="diff-chg">6.2.1
</ins>
</span>
Methods
</h4>
<dl class="methods">
<dt id="widl-JSONLDProcessor-toGraph-Graph-DOMString-jsonld-JSONLDParserCallback-callback">
<code>
toGraph
</code>
</dt>
<dd>
Parses
JSON-LD
and
transforms
the
data
into
an
Graph,
which
is
compatible
with
the
RDF
Interfaces
API
specification
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-RDF-INTERFACES">
RDF-INTERFACES
</a>
</cite>
].
This
method
will
return
<code>
null
</code>
if
there
are
any
errors,
or
if
the
RDF
Interfaces
API
is
not
available
for
use.
<table class="parameters">
<tr>
<th>
Parameter
</th>
<th>
Type
</th>
<th>
Nullable
</th>
<th>
Optional
</th>
<th>
Description
</th>
</tr>
<tr>
<td class="prmName">
jsonld
</td>
<td class="prmType">
<code>
<a>
DOMString
</a>
</code>
</td>
<td class="prmNullFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmOptFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmDesc">
The
JSON-LD
string
to
parse
into
the
RDFGraph.
</td>
</tr>
<tr>
<td class="prmName">
callback
</td>
<td class="prmType">
<code>
<a>
JSONLDParserCallback
</a>
</code>
</td>
<td class="prmNullTrue">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10004;
</ins>
</td>
<td class="prmOptTrue">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10004;
</ins>
</td>
<td class="prmDesc">
A
callback
that
is
called
whenever
a
processing
error
occurs
on
the
given
JSON-LD
string.
</td>
</tr>
</table>
<div>
<em>
No
exceptions.
</em>
</div>
<div>
<em>
Return
type:
</em>
<code>
<a>
Graph
</a>
</code>
</div>
</dd>
<dt id="widl-JSONLDProcessor-toProjection-object-DOMString-jsonld-object-template-DOMString-subject-JSONLDParserCallback-callback">
<code>
toProjection
</code>
</dt>
<dd>
Parses
JSON-LD
text
into
an
RDF
API
Projection
object
as
specified
by
the
RDF
API
specification
[
<cite>
<a class="bibref" rel="biblioentry" href="#bib-RDF-API">
RDF-API
</a>
</cite>
].
If
there
are
any
errors,
<code>
null
</code>
is
returned.
<table class="parameters">
<tr>
<th>
Parameter
</th>
<th>
Type
</th>
<th>
Nullable
</th>
<th>
Optional
</th>
<th>
Description
</th>
</tr>
<tr>
<td class="prmName">
jsonld
</td>
<td class="prmType">
<code>
<a>
DOMString
</a>
</code>
</td>
<td class="prmNullFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmOptFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmDesc">
The
JSON-LD
string
to
parse
into
the
Projection.
</td>
</tr>
<tr>
<td class="prmName">
template
</td>
<td class="prmType">
<code>
<a>
object
</a>
</code>
</td>
<td class="prmNullTrue">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10004;
</ins>
</td>
<td class="prmOptFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmDesc">
The
Projection
template
to
use
when
building
the
Projection.
</td>
</tr>
<tr>
<td class="prmName">
subject
</td>
<td class="prmType">
<code>
<a>
DOMString
</a>
</code>
</td>
<td class="prmNullTrue">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10004;
</ins>
</td>
<td class="prmOptFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmDesc">
The
subject
to
use
when
building
the
Projection.
</td>
</tr>
<tr>
<td class="prmName">
callback
</td>
<td class="prmType">
<code>
<a>
JSONLDParserCallback
</a>
</code>
</td>
<td class="prmNullTrue">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10004;
</ins>
</td>
<td class="prmOptTrue">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10004;
</ins>
</td>
<td class="prmDesc">
A
callback
that
is
called
whenever
a
processing
error
occurs
on
the
given
JSON-LD
string.
</td>
</tr>
</table>
<div>
<em>
No
exceptions.
</em>
</div>
<div>
<em>
Return
type:
</em>
<code>
<a>
object
</a>
</code>
</div>
</dd>
</dl>
</div>
<p>
The
JSONLDParserCallback
is
called
whenever
a
processing
error
occurs
on
input
data.
</p>
<del class="diff-old">]
interface  {
};
</del>
<pre class="idl"><span class="idlInterface" id="idl-def-JSONLDProcessorCallback">[<span class="extAttr">NoInterfaceObject Callback</span>]
<ins class="diff-chg">interface <span class="idlInterfaceID">JSONLDProcessorCallback</span> {
</ins><span class="idlMethod">    <span class="idlMethType"><a>void</a></span> <span class="idlMethName"><a href="#widl-JSONLDProcessorCallback-error-void-DOMString-error">error</a></span> (<span class="idlParam">in <span class="idlParamType"><a>DOMString</a></span> <span class="idlParamName">error</span></span>);</span><ins class="diff-chg">
};</span>
</ins>
</pre>
<div id="methods-1" class="section">
<h4>
<span class="secno">
<del class="diff-old">9.3.2
</del>
<ins class="diff-chg">6.2.2
</ins>
</span>
Methods
</h4>
<dl class="methods">
<dt id="widl-JSONLDProcessorCallback-error-void-DOMString-error">
<code>
error
</code>
</dt>
<dd>
This
callback
is
invoked
whenever
an
error
occurs
during
processing.
<table class="parameters">
<tr>
<th>
Parameter
</th>
<th>
Type
</th>
<th>
Nullable
</th>
<th>
Optional
</th>
<th>
Description
</th>
</tr>
<tr>
<td class="prmName">
error
</td>
<td class="prmType">
<code>
<a>
DOMString
</a>
</code>
</td>
<td class="prmNullFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmOptFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmDesc">
A
descriptive
error
string
returned
by
the
processor.
</td>
</tr>
</table>
<div>
<em>
No
exceptions.
</em>
</div>
<div>
<em>
Return
type:
</em>
<code>
<a>
void
</a>
</code>
</div>
</dd>
</dl>
</div>
<p>
The
following
example
demonstrates
how
to
convert
JSON-LD
to
a
projection
that
is
directly
usable
in
a
programming
environment:
</p>
<del class="diff-old">// retrieve JSON-LD from a Web Service
var jsonldString = fetchPerson();
// This map, usually defined once per script, defines how to map incoming 
// JSON-LD to JavaScript objects
var myTemplate = { "http://xmlns.com/foaf/0.1/name" : "name",
                   "http://xmlns.com/foaf/0.1/age" : "age",
                  "http://xmlns.com/foaf/0.1/homepage" : "homepage" };
// Map the JSON-LD to a language-native object
var person = jsonld.toProjection(jsonldString, myTemplate);
// Use the language-native object
alert(person.name + " is " + person.age + " years old. " +
</del>
<pre class="example">// retrieve JSON-LD from a Web Service
<ins class="diff-chg">var jsonldString = fetchPerson();

// This map, usually defined once per script, defines how to map incoming 
// JSON-LD to JavaScript objects
var myTemplate = { "http://xmlns.com/foaf/0.1/name" : "name",
                   "http://xmlns.com/foaf/0.1/age" : "age",
                  "http://xmlns.com/foaf/0.1/homepage" : "homepage" };

// Map the JSON-LD to a language-native object
var person = jsonld.toProjection(jsonldString, myTemplate);

// Use the language-native object
alert(person.name + " is " + person.age + " years old. " +
</ins>
"Their
homepage
is:
"
+
person.homepage);
</pre>
<p>
A
JSON-LD
Serializer
is
also
available
to
map
a
language-native
object
to
JSON-LD.
<del class="diff-old">]
interface  {
};
</del>
</p><pre class="idl"><span class="idlInterface" id="idl-def-JSONLDSerializer">[<span class="extAttr">NoInterfaceObject</span>]
<ins class="diff-chg">interface <span class="idlInterfaceID">JSONLDSerializer</span> {
</ins><span class="idlMethod">    <span class="idlMethType"><a>DOMString</a></span> <span class="idlMethName"><a href="#widl-JSONLDSerializer-normalize-DOMString-object-obj">normalize</a></span> (<span class="idlParam">in <span class="idlParamType"><a>object</a></span> <span class="idlParamName">obj</span></span>);</span><ins class="diff-chg">
};</span>
</ins>
</pre>
<div id="methods-2" class="section">
<h4>
<span class="secno">
<del class="diff-old">9.3.3
</del>
<ins class="diff-chg">6.2.3
</ins>
</span>
Methods
</h4>
<dl class="methods">
<dt id="widl-JSONLDSerializer-normalize-DOMString-object-obj">
<code>
normalize
</code>
</dt>
<dd>
Serializes
a
language-native
object
into
a
normalized
JSON-LD
string.
Normalization
is
important
when
performing
things
like
equality
comparison
and
digital
signature
creation
and
verification.
<table class="parameters">
<tr>
<th>
Parameter
</th>
<th>
Type
</th>
<th>
Nullable
</th>
<th>
Optional
</th>
<th>
Description
</th>
</tr>
<tr>
<td class="prmName">
obj
</td>
<td class="prmType">
<code>
<a>
object
</a>
</code>
</td>
<td class="prmNullFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmOptFalse">
<del class="diff-old">
</del>
<ins class="diff-chg">&#10008;
</ins>
</td>
<td class="prmDesc">
An
associative
array
of
key-value
pairs
that
should
be
converted
to
a
JSON-LD
string.
It
is
assumed
that
a
map
already
exists
for
the
data.
</td>
</tr>
</table>
<div>
<em>
No
exceptions.
</em>
</div>
<div>
<em>
Return
type:
</em>
<code>
<a>
DOMString
</a>
</code>
</div>
</dd>
</dl>
</div>
<h3 id="the-normalization-algorithm">
The
Normalization
Algorithm
</h3>
<p class="issue">
This
algorithm
is
very
rough,
untested,
and
probably
contains
many
bugs.
Use
at
your
own
risk.
It
will
change
in
the
coming
months.
</p>
<p>
The
JSON-LD
normalization
algorithm
is
as
follows:
</p>
<ol class="algorithm">
<li>
Remove
the
<code>
@context
</code>
key
and
preserve
it
as
the
<dfn title="transformation_map" id="dfn-transformation_map">
transformation
map
</dfn>
while
running
this
algorithm.
</li>
<li>
For
each
key
<ol class="algorithm">
<li>
If
the
key
is
a
CURIE,
expand
the
CURIE
to
an
IRI
using
the
<a class="tref internalDFN" title="transformation_map" href="#dfn-transformation_map">
transformation
map
</a>.
</li>
</ol>
</li>
<li>
For
each
value
<ol class="algorithm">
<li>
If
the
value
should
be
type
coerced
per
the
<a class="tref internalDFN" title="transformation_map" href="#dfn-transformation_map">
transformation
map
</a>,
ensure
that
it
is
transformed
to
the
new
value.
</li>
<li>
If
the
value
is
a
CURIE,
expand
the
CURIE
to
an
IRI
using
the
<a class="tref internalDFN" title="transformation_map" href="#dfn-transformation_map">
transformation
map
</a>.
</li>
<li>
If
the
value
is
a
<a class="tref internalDFN" title="typed_literal" href="#dfn-typed_literal">
typed
literal
</a>
and
the
type
is
a
CURIE,
expand
it
to
an
IRI
using
the
<a class="tref internalDFN" title="transformation_map" href="#dfn-transformation_map">
transformation
map
</a>.
</li>
<li>
When
generating
the
final
value,
use
expanded
object
value
form
to
store
all
IRIs,
typed
literals
and
<a class="tref internalDFN" title="plain_literal" href="#dfn-plain_literal">
plain
literal
</a>
s
with
language
information.
</li>
</ol>
</li>
<li>
Output
each
sorted
key-value
pair
without
any
extraneous
whitespace.
If
the
value
is
an
associative
array,
perform
this
algorithm,
starting
at
step
#1,
recursively
on
the
sub-tree.
There
should
be
no
nesting
in
the
outputted
JSON
data.
That
is,
the
top-most
element
should
be
an
array.
Each
item
in
the
array
contains
a
single
subject
with
a
corresponding
array
of
properties
in
UTF-8
sort
order.
Any
related
objects
that
are
complex
objects
themselves
should
be
given
a
top-level
object
in
the
top-level
array.
</li>
</ol>
<p class="issue">
Note
that
normalizing
named
blank
nodes
is
impossible
at
present
since
one
would
have
to
specify
a
blank
node
naming
algorithm.
For
the
time
being,
you
cannot
normalize
graphs
that
contain
named
blank
nodes.
However,
normalizing
graphs
that
contain
non-named
blank
nodes
is
supported.
</p>
<del class="diff-old">var myObj = { "@context" : { 
                "xsd" : "http://www.w3.org/2001/XMLSchema#",
                "name" : "http://xmlns.com/foaf/0.1/name",
                "age" : "http://xmlns.com/foaf/0.1/age",
                "homepage" : "http://xmlns.com/foaf/0.1/homepage",
                "@coerce": {
                   "xsd:nonNegativeInteger": "age",
                   "xsd:anyURI": "homepage"
                }
              },
              "name" : "Joe Jackson",
              "age" : "42",
              "homepage" : "http://example.org/people/joe" };
// Map the language-native object to JSON-LD
</del>
<pre class="example">var myObj = { "@context" : { 
<ins class="diff-chg">                "xsd" : "http://www.w3.org/2001/XMLSchema#",
                "name" : "http://xmlns.com/foaf/0.1/name",
                "age" : "http://xmlns.com/foaf/0.1/age",
                "homepage" : "http://xmlns.com/foaf/0.1/homepage",
                "@coerce": {
                   "xsd:nonNegativeInteger": "age",
                   "xsd:anyURI": "homepage"
                }
              },
              "name" : "Joe Jackson",
              "age" : "42",
              "homepage" : "http://example.org/people/joe" };

// Map the language-native object to JSON-LD
</ins>
var
jsonldText
=
jsonld.normalize(myObj);
</pre>
<p>
After
the
code
in
the
example
above
has
executed,
the
<strong>
jsonldText
</strong>
value
will
be
(line-breaks
added
for
readability):
</p>
<del class="diff-old">[{"http://xmlns.com/foaf/0.1/age":{"@datatype":"http://www.w3.org/2001/XMLSchema#nonNegativeInteger","@literal":"42"},
"http://xmlns.com/foaf/0.1/homepage":{"@iri":"http://example.org/people/joe"},
</del>
<pre class="example">[{"http://xmlns.com/foaf/0.1/age":{"@datatype":"http://www.w3.org/2001/XMLSchema#nonNegativeInteger","@literal":"42"},
<ins class="diff-chg">"http://xmlns.com/foaf/0.1/homepage":{"@iri":"http://example.org/people/joe"},
</ins>
"http://xmlns.com/foaf/0.1/name":"Joe
Jackson"}]
</pre>
<p>
When
normalizing
<strong>
xsd:double
</strong>
values,
implementers
<em class="rfc2119" title="must">
must
</em>
ensure
that
the
normalized
value
is
a
string.
In
order
to
generate
the
string
from
a
<strong>
double
</strong>
value,
output
equivalent
to
the
<code>
printf("%1.6e",
value)
</code>
function
in
C
<em class="rfc2119" title="must">
must
</em>
be
used
where
<strong>
"%1.6e"
</strong>
is
the
string
formatter
and
<strong>
value
</strong>
is
the
value
to
be
converted.
</p>
<p>
To
convert
the
a
double
value
in
JavaScript,
implementers
can
use
the
following
snippet
of
code:
</p>
<del class="diff-old">// the variable 'value' below is the JavaScript native double value that is to be converted
</del>
<pre class="example">// the variable 'value' below is the JavaScript native double value that is to be converted
(value).toExponential(6).replace(/(e(?:\+|-))([0-9])$/,
'$10$2')
</pre>
<p class="note">
When
data
needs
to
be
normalized,
JSON-LD
authors
should
not
use
values
that
are
going
to
undergo
automatic
conversion.
This
is
due
to
the
lossy
nature
of
<strong>
xsd:double
</strong>
values.
</p>
<p class="issue">
Round-tripping
data
can
be
problematic
if
we
mix
and
match
@coerce
rules
with
JSON-native
datatypes,
like
integers.
Consider
the
following
code
example:
</p>
<del class="diff-old">var myObj = { "@context" : { 
                "number" : "http://example.com/vocab#number",
                "@coerce": {
                   "xsd:nonNegativeInteger": "number"
                }
              },
              "number" : 42 };
// Map the language-native object to JSON-LD
var jsonldText = jsonld.normalize(myObj);
// Convert the normalized object back to a JavaScript object
</del>
<pre class="example">var myObj = { "@context" : { 
<ins class="diff-chg">                "number" : "http://example.com/vocab#number",
                "@coerce": {
                   "xsd:nonNegativeInteger": "number"
                }
              },
              "number" : 42 };

// Map the language-native object to JSON-LD
var jsonldText = jsonld.normalize(myObj);

// Convert the normalized object back to a JavaScript object
</ins>
var
myObj2
=
jsonld.parse(jsonldText);
</pre>
<p class="issue">
At
this
point,
myObj2
and
myObj
will
have
different
values
for
the
"number"
value.
myObj
will
be
the
number
42,
while
myObj2
will
be
the
string
"42".
This
type
of
data
round-tripping
error
can
bite
developers.
We
are
currently
wondering
if
having
a
"coerce
validation"
phase
in
the
parsing/normalization
phases
would
be
a
good
idea.
It
would
prevent
data
round-tripping
issues
like
the
one
mentioned
above.
</p>
</div>
</div>
<div class="appendix section" id="markup-examples">
<h2>
<span class="secno">
A.
</span>
<del class="diff-old">The
Default
Context
</del>
<ins class="diff-chg">Markup
Examples
</ins>
</h2>
<p>
The
<del class="diff-old">default
context
is
provided
</del>
<ins class="diff-chg">JSON-LD
markup
examples
below
demonstrate
how
JSON-LD
can
be
used
</ins>
to
<del class="diff-old">ensure
</del>
<ins class="diff-chg">express
semantic
data
marked
up
in
other
languages
such
as
RDFa,
Microformats,
and
Microdata.
These
sections
are
merely
provided
as
proof
</ins>
that
<ins class="diff-new">JSON-LD
is
very
flexible
in
what
it
can
express
across
different
Linked
Data
approaches.
</ins></p><div id="rdfa" class="section"><h3><span class="secno"><ins class="diff-new">
A.1
</ins></span><ins class="diff-new">
RDFa
</ins></h3><p><ins class="diff-new">
The
following
example
describes
three
people
with
their
respective
names
and
homepages.
</ins></p><pre class="example">&lt;div <span class="diff">prefix="foaf: http://xmlns.com/foaf/0.1/"</span>&gt;<ins class="diff-new">
   &lt;ul&gt;
      &lt;li <span class="diff">typeof="foaf:Person"</span>&gt;
        &lt;a <span class="diff">rel="foaf:homepage" href="http://example.com/bob/" property="foaf:name" </span>&gt;Bob&lt;/a&gt;
      &lt;/li&gt;
      &lt;li <span class="diff">typeof="foaf:Person"</span>&gt;
        &lt;a <span class="diff">rel="foaf:homepage" href="http://example.com/eve/" property="foaf:name" </span>&gt;Eve&lt;/a&gt;
      &lt;/li&gt;
      &lt;li <span class="diff">typeof="foaf:Person"</span>&gt;
        &lt;a <span class="diff">rel="foaf:homepage" href="http://example.com/manu/" property="foaf:name" </span>&gt;Manu&lt;/a&gt;
      &lt;/li&gt;
   &lt;/ul&gt;
&lt;/div&gt;
</ins></pre><p><ins class="diff-new">
An
example
JSON-LD
implementation
is
described
below,
however,
</ins>
there
are
<ins class="diff-new">other
ways
to
mark-up
this
information
such
that
the
context
is
not
repeated.
</ins></p><pre class="example">[<ins class="diff-new">
 {
   "@": "_:bnode1",
   "a": "foaf:Person",
   "foaf:homepage": "http://example.com/bob/",
   "foaf:name": "Bob"
 },
 {
   "@": "_:bnode2",
   "a": "foaf:Person",
   "foaf:homepage": "http://example.com/eve/",
   "foaf:name": "Eve"
 },
 {
   "@": "_:bnode3",
   "a": "foaf:Person",
   "foaf:homepage": "http://example.com/manu/",
   "foaf:name": "Manu"
 }
]
</ins></pre></div><div id="microformats" class="section"><h3><span class="secno"><ins class="diff-new">
A.2
</ins></span><ins class="diff-new">
Microformats
</ins></h3><p><ins class="diff-new">
The
following
example
uses
</ins>
a
<del class="diff-old">reasonable
set
</del>
<ins class="diff-chg">simple
Microformats
hCard
example
to
express
how
the
Microformat
is
represented
in
JSON-LD.
</ins></p><pre class="example">&lt;div class="vcard"&gt;<ins class="diff-chg">
 &lt;a class="url fn" href="http://tantek.com/"&gt;Tantek elik&lt;/a&gt;
&lt;/div&gt;
</ins></pre><p><ins class="diff-chg">
The
representation
</ins>
of
<del class="diff-old">prefixes
and
</del>
<ins class="diff-chg">the
hCard
expresses
the
Microformat
</ins>
terms
<del class="diff-old">available
to
all
JSON-LD
developers.
Mappings
specified
by
</del>
<ins class="diff-chg">in
</ins>
the
<del class="diff-old">default
</del>
context
<del class="diff-old">should
not
be
overwritten
by
</del>
<ins class="diff-chg">and
uses
them
directly
for
the
</ins><code><ins class="diff-chg">
url
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
fn
</ins></code><ins class="diff-chg">
properties.
Also
note
that
the
Microformat
to
</ins>
JSON-LD
<del class="diff-old">authors.
All
</del>
<ins class="diff-chg">processor
has
generated
the
proper
URL
type
for
</ins><code><ins class="diff-chg">
http://tantek.com
</ins></code>.</p><pre class="example">{<ins class="diff-chg">
  "@context": 
  {
    "vcard": "http://microformats.org/profile/hcard#vcard",
    "url": "http://microformats.org/profile/hcard#url",
    "fn": "http://microformats.org/profile/hcard#fn",
    "@coerce": { "xsd:anyURI": "url" }
  },
  "@": "_:bnode1",
  "a": "vcard",
  "url": "http://tantek.com/",
  "fn": "Tantek elik"
}
</ins></pre></div><div id="microdata" class="section"><h3><span class="secno"><ins class="diff-chg">
A.3
</ins></span><ins class="diff-chg">
Microdata
</ins></h3><p><ins class="diff-chg">
The
Microdata
example
below
expresses
book
information
as
a
Microdata
Work
item.
</ins></p><pre class="example">&lt;dl itemscope<ins class="diff-chg">
    itemtype="http://purl.org/vocab/frbr/core#Work"
    itemid="http://purl.oreilly.com/works/45U8QJGZSQKDH8N"&gt;
 &lt;dt&gt;Title&lt;/dt&gt;
 &lt;dd&gt;&lt;cite itemprop="http://purl.org/dc/terms/title"&gt;Just a Geek&lt;/cite&gt;&lt;/dd&gt;
 &lt;dt&gt;By&lt;/dt&gt;
 &lt;dd&gt;&lt;span itemprop="http://purl.org/dc/terms/creator"&gt;Wil Wheaton&lt;/span&gt;&lt;/dd&gt;
 &lt;dt&gt;Format&lt;/dt&gt;
 &lt;dd itemprop="http://purl.org/vocab/frbr/core#realization"
     itemscope
     itemtype="http://purl.org/vocab/frbr/core#Expression"
     itemid="http://purl.oreilly.com/products/9780596007683.BOOK"&gt;
  &lt;link itemprop="http://purl.org/dc/terms/type" href="http://purl.oreilly.com/product-types/BOOK"&gt;
  Print
 &lt;/dd&gt;
 &lt;dd itemprop="http://purl.org/vocab/frbr/core#realization"
     itemscope
     itemtype="http://purl.org/vocab/frbr/core#Expression"
     itemid="http://purl.oreilly.com/products/9780596802189.EBOOK"&gt;
  &lt;link itemprop="http://purl.org/dc/terms/type" href="http://purl.oreilly.com/product-types/EBOOK"&gt;
  Ebook
 &lt;/dd&gt;
&lt;/dl&gt;
</ins></pre><p><ins class="diff-chg">
Note
that
the
</ins>
JSON-LD
<del class="diff-old">processors
must
load
</del>
<ins class="diff-chg">representation
of
</ins>
the
<del class="diff-old">following
context
</del>
<ins class="diff-chg">Microdata
information
stays
true
to
the
desires
of
the
Microdata
community
to
avoid
contexts
and
instead
refer
to
items
by
their
full
IRI.
</ins></p><pre class="example">[<ins class="diff-chg">
  {
    "@": "http://purl.oreilly.com/works/45U8QJGZSQKDH8N",
    "a": "http://purl.org/vocab/frbr/core#Work",
    "http://purl.org/dc/terms/title": "Just a Geek",
    "http://purl.org/dc/terms/creator": "Whil Wheaton",
    "http://purl.org/vocab/frbr/core#realization": 
      ["http://purl.oreilly.com/products/9780596007683.BOOK", "http://purl.oreilly.com/products/9780596802189.EBOOK"]
  },
  {
    "@": "http://purl.oreilly.com/products/9780596007683.BOOK",
    "a": "http://purl.org/vocab/frbr/core#Expression",
    "http://purl.org/dc/terms/type": "http://purl.oreilly.com/product-types/BOOK"
  },
  {
    "@": "http://purl.oreilly.com/products/9780596802189.EBOOK",
    "a": "http://purl.org/vocab/frbr/core#Expression",
    "http://purl.org/dc/terms/type": "http://purl.oreilly.com/product-types/EBOOK"
  }
]
</ins></pre></div><div class="appendix section" id="mashing-up-vocabularies"><h3><span class="secno"><ins class="diff-chg">
A.4
</ins></span><ins class="diff-chg">
Mashing
Up
Vocabularies
</ins></h3><p><ins class="diff-chg">
Developers
would
also
benefit
by
allowing
other
vocabularies
to
be
used
automatically
with
their
JSON
API.
There
are
over
200
Vocabulary
Documents
that
are
available
for
use
on
the
Web
today.
Some
of
these
vocabularies
are:
</ins></p><ul><li><ins class="diff-chg">
RDF
-
for
describing
information
about
objects
on
the
semantic
web.
</ins></li><li><ins class="diff-chg">
RDFS
-
for
expressing
things
like
labels
and
comments.
</ins></li><li><ins class="diff-chg">
XSD
-
for
specifying
basic
types
like
strings,
integers,
dates
and
times.
</ins></li><li><ins class="diff-chg">
Dublin
Core
-
for
describing
creative
works.
</ins></li><li><ins class="diff-chg">
FOAF
-
for
describing
social
networks.
</ins></li><li><ins class="diff-chg">
Calendar
-
for
specifying
events.
</ins></li><li><ins class="diff-chg">
SIOC
-
for
describing
discussions
on
blogs
and
websites.
</ins></li><li><ins class="diff-chg">
CCrel
-
for
describing
Creative
Commons
and
other
types
of
licenses.
</ins></li><li><ins class="diff-chg">
GEO
-
for
describing
geographic
location.
</ins></li><li><ins class="diff-chg">
VCard
-
for
describing
organizations
and
people.
</ins></li><li><ins class="diff-chg">
DOAP
-
for
describing
projects.
</ins></li></ul><p><ins class="diff-chg">
You
can
use
these
vocabularies
</ins>
in
<del class="diff-old">as
</del>
<ins class="diff-chg">combination,
like
so:
</ins></p><pre class="example">{<ins class="diff-chg">
  "<span class="diff">rdf:type</span>": "<span class="diff">foaf:Person</span>",
  "<span class="diff">foaf:name</span>": "Manu Sporny",
  "<span class="diff">foaf:homepage</span>": "http://manu.sporny.org/",
  "<span class="diff">sioc:avatar</span>": "http://twitter.com/account/profile_image/manusporny"
}
</ins></pre><p><ins class="diff-chg">
Developers
can
also
specify
their
own
Vocabulary
documents
by
modifying
</ins>
the
<del class="diff-old">intial
</del>
<a class="tref internalDFN" title="active_context" href="#dfn-active_context">
<ins class="diff-chg">active
</ins>
context
<del class="diff-old">before
processing
JSON-LD
text.
</del>
</a>
<ins class="diff-chg">in-line
using
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
keyword,
like
so:
</ins>
</p>
<del class="diff-old">{
  "@context":
  {
    "@vocab": "",
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "owl": "http://www.w3.org/2002/07/owl#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "dcterms": "http://purl.org/dc/terms/",
    "foaf": "http://xmlns.com/foaf/0.1/",
    "cal": "http://www.w3.org/2002/12/cal/ical#",
    "vcard": "http://www.w3.org/2006/vcard/ns# ",
    "geo": "http://www.w3.org/2003/01/geo/wgs84_pos#",
    "cc": "http://creativecommons.org/ns#",
    "sioc": "http://rdfs.org/sioc/ns#",
    "doap": "http://usefulinc.com/ns/doap#",
    "com": "http://purl.org/commerce#",
    "ps": "http://purl.org/payswarm#",
    "gr": "http://purl.org/goodrelations/v1#",
    "sig": "http://purl.org/signature#",
    "ccard": "http://purl.org/commerce/creditcard#"
    "@coerce": 
    {
      "xsd:anyURI": ["rdf:type", "rdf:rest", "foaf:homepage", "foaf:member"],
      "xsd:integer": "foaf:age"
    }
  }
</del>
<pre class="example">{
  <span class="diff">"@context": { "myvocab": "http://example.org/myvocab#" }</span>,
<ins class="diff-chg">  "a": "foaf:Person",
  "foaf:name": "Manu Sporny",
  "foaf:homepage": "http://manu.sporny.org/",
  "sioc:avatar": "http://twitter.com/account/profile_image/manusporny"<span class="diff">,
  "myvocab:personality": "friendly"</span>
</ins>
}
</pre>
<p>
<ins class="diff-new">The
</ins><code><ins class="diff-new">
@context
</ins></code><ins class="diff-new">
keyword
is
used
to
change
how
the
JSON-LD
processor
evaluates
key-value
pairs.
In
this
case,
it
was
used
to
map
one
string
('myvocab')
to
another
string,
which
is
interpreted
as
a
</ins><a class="tref internalDFN" title="IRI" href="#dfn-iri"><ins class="diff-new">
IRI
</ins></a>.<ins class="diff-new">
In
the
example
above,
the
</ins><code><ins class="diff-new">
myvocab
</ins></code><ins class="diff-new">
string
is
replaced
with
"
</ins><code><ins class="diff-new">
http://example.org/myvocab#
</ins></code><ins class="diff-new">
"
when
it
is
detected.
In
the
example
above,
"
</ins><code><ins class="diff-new">
myvocab:personality
</ins></code><ins class="diff-new">
"
would
expand
to
"
</ins><code><ins class="diff-new">
http://example.org/myvocab#personality
</ins></code><ins class="diff-new">
".
</ins></p><p><ins class="diff-new">
This
mechanism
is
a
short-hand
for
RDF,
called
a
CURIE,
and
provides
developers
an
unambiguous
way
to
map
any
JSON
value
to
RDF.
</ins></p><p></p>
</div>
<div class="appendix section" id="acknowledgements">
<h3>
<span class="secno">
<del class="diff-old">B.
</del>
<ins class="diff-chg">A.5
</ins>
</span>
Acknowledgements
</h3>
<p>
The
<del class="diff-old">editor
</del>
<ins class="diff-chg">editors
</ins>
would
like
to
thank
Mark
Birbeck,
who
provided
a
great
deal
of
the
<del class="diff-old">rationale
and
reasoning
</del>
<ins class="diff-chg">initial
push
</ins>
behind
the
JSON-LD
work
via
his
work
on
RDFj,
Dave
<del class="diff-old">Longley
</del>
<ins class="diff-chg">Longley,
Dave
Lehn
and
Mike
Johnson
</ins>
who
reviewed,
provided
feedback,
and
performed
several
<del class="diff-old">implementation
on
</del>
<ins class="diff-chg">implementations
of
</ins>
the
specification,
and
Ian
Davis,
who
created
RDF/JSON.
Thanks
also
to
Nathan
Rixham,
Bradley
P.
<del class="diff-old">Allen
</del>
<ins class="diff-chg">Allen,
Kingsley
Idehen,
Glenn
McDonald,
Alexandre
Passant,
Danny
Ayers,
Ted
Thibodeau
Jr.,
Olivier
Grisel,
Niklas
Lindstrm,
Markus
Lanthaler,
</ins>
and
Richard
Cyganiak
for
their
input
on
the
specification.
</p>
</div>
</div>
<div id="respec-err" style="position: fixed; width: 350px; top: 10px; right: 10px; border: 3px double #f00; background: #fff" class="removeOnSave">
<ul>
<li style="color: #c00">
<ins class="diff-new">There
appears
to
have
been
a
problem
fetching
the
style
sheet;
status=0
</ins></li></ul></div>
<div id="references" class="appendix section">
<h2>
<span class="secno">
<del class="diff-old">C.
</del>
<ins class="diff-chg">B.
</ins>
</span>
References
</h2>
<div id="normative-references" class="section">
<h3>
<span class="secno">
<del class="diff-old">C.1
</del>
<ins class="diff-chg">B.1
</ins>
</span>
Normative
references
</h3>
<dl class="bibliography">
<dt id="bib-BCP47">
[BCP47]
</dt>
<dd>
A.
Phillips,
M.
Davis.
<a href="http://tools.ietf.org/rfc/bcp/bcp47.txt">
<cite>
Tags
for
Identifying
Languages
</cite>
</a>
September
2009.
IETF
Best
Current
Practice.
URL:
<a href="http://tools.ietf.org/rfc/bcp/bcp47.txt">
http://tools.ietf.org/rfc/bcp/bcp47.txt
</a>
</dd>
<dt id="bib-RDF-API">
[RDF-API]
</dt>
<dd>
Manu
Sporny,
Benjamin
Adrian,
Nathan
Rixham;
et
al.
<a href="http://www.w3.org/2010/02/rdfa/sources/rdf-api/">
<cite>
RDF
API
</cite>
</a>
Latest.
W3C
Editor's
Draft.
URL:
<a href="http://www.w3.org/2010/02/rdfa/sources/rdf-api/">
http://www.w3.org/2010/02/rdfa/sources/rdf-api/
</a>
</dd>
<dt id="bib-RDF-CONCEPTS">
[RDF-CONCEPTS]
</dt>
<dd>
Graham
Klyne;
Jeremy
J.
Carroll.
<a href="http://www.w3.org/TR/2004/REC-rdf-concepts-20040210">
<cite>
Resource
Description
Framework
(RDF):
Concepts
and
Abstract
Syntax.
</cite>
</a>
10
February
2004.
W3C
Recommendation.
URL:
<a href="http://www.w3.org/TR/2004/REC-rdf-concepts-20040210">
http://www.w3.org/TR/2004/REC-rdf-concepts-20040210
</a>
</dd>
<dt id="bib-RDF-INTERFACES">
[RDF-INTERFACES]
</dt>
<dd>
Nathan
Rixham,
Manu
Sporny,
Benjamin
Adrian;
et
al.
<a href="http://www.w3.org/2010/02/rdfa/sources/rdf-interfaces/">
<cite>
RDF
Interfaces
</cite>
</a>
Latest.
W3C
Editor's
Draft.
URL:
<a href="http://www.w3.org/2010/02/rdfa/sources/rdf-interfaces/">
http://www.w3.org/2010/02/rdfa/sources/rdf-interfaces/
</a>
</dd>
<dt id="bib-RFC3987">
[RFC3987]
</dt>
<dd>
M.
<del class="diff-old">Drst;
</del>
<ins class="diff-chg">Drst;
</ins>
M.
Suignard.
<a href="http://www.ietf.org/rfc/rfc3987.txt">
<cite>
Internationalized
Resource
Identifiers
(IRIs).
</cite>
</a>
January
2005.
Internet
RFC
3987.
URL:
<a href="http://www.ietf.org/rfc/rfc3987.txt">
http://www.ietf.org/rfc/rfc3987.txt
</a>
</dd>
<dt id="bib-RFC4627">
[RFC4627]
</dt>
<dd>
D.
Crockford.
<a href="http://www.ietf.org/rfc/rfc4627.txt">
<cite>
The
application/json
Media
Type
for
JavaScript
Object
Notation
(JSON)
</cite>
</a>
July
2006.
Internet
RFC
4627.
URL:
<a href="http://www.ietf.org/rfc/rfc4627.txt">
http://www.ietf.org/rfc/rfc4627.txt
</a>
</dd>
<dt id="bib-WEBIDL">
<ins class="diff-new">[WEBIDL]
</ins></dt><dd><ins class="diff-new">
Cameron
McCormack.
</ins><a href="http://www.w3.org/TR/2008/WD-WebIDL-20081219"><cite><ins class="diff-new">
Web
IDL.
</ins></cite></a><ins class="diff-new">
19
December
2008.
W3C
Working
Draft.
(Work
in
progress.)
URL:
</ins><a href="http://www.w3.org/TR/2008/WD-WebIDL-20081219"><ins class="diff-new">
http://www.w3.org/TR/2008/WD-WebIDL-20081219
</ins></a></dd>
</dl>
</div>
<div id="informative-references" class="section">
<h3>
<span class="secno">
<del class="diff-old">C.2
</del>
<ins class="diff-chg">B.2
</ins>
</span>
Informative
references
</h3>
<dl class="bibliography">
<dt id="bib-ECMA-262">
<ins class="diff-new">[ECMA-262]
</ins></dt><dd><a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm"><cite><ins class="diff-new">
ECMAScript
Language
Specification,
Third
Edition.
</ins></cite></a><ins class="diff-new">
December
1999.
URL:
</ins><a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm"><ins class="diff-new">
http://www.ecma-international.org/publications/standards/Ecma-262.htm
</ins></a></dd>
<dt id="bib-MICRODATA">
[MICRODATA]
</dt>
<dd>
Ian
Hickson;
et
al.
<a href="http://www.w3.org/TR/microdata/">
<cite>
Microdata
</cite>
</a>
04
March
2010.
W3C
Working
Draft.
URL:
<a href="http://www.w3.org/TR/microdata/">
http://www.w3.org/TR/microdata/
</a>
</dd>
<dt id="bib-MICROFORMATS">
[MICROFORMATS]
</dt>
<dd>
<a href="http://microformats.org">
<cite>
Microformats
</cite>
</a>.
URL:
<a href="http://microformats.org">
http://microformats.org
</a>
</dd>
<dt id="bib-RDFA-CORE">
[RDFA-CORE]
</dt>
<dd>
Shane
McCarron;
et
al.
<a href="http://www.w3.org/TR/2011/WD-rdfa-core-20110331">
<cite>
RDFa
Core
1.1:
Syntax
and
processing
rules
for
embedding
RDF
through
attributes.
</cite>
</a>
31
March
2011.
W3C
Working
Draft.
URL:
<a href="http://www.w3.org/TR/2011/WD-rdfa-core-20110331">
http://www.w3.org/TR/2011/WD-rdfa-core-20110331
</a>
</dd>
</dl>
</div>
</div>
</body>
</html>
